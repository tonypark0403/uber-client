{"version":3,"sources":["config/index.ts","config/prod.ts","apollo.ts","Components/App/AppQueries.local.tsx","Components/Style/typed-components.ts","Components/Button/Button.tsx","Components/Button/index.tsx","Components/Form/index.tsx","Components/Form/Form.tsx","Components/BackArrow/BackArrow.tsx","Components/BackArrow/index.tsx","Components/Header/Header.tsx","Components/Header/index.tsx","Components/Input/Input.tsx","Components/Input/index.tsx","config/routes.ts","Routes/AddPlace/AddPlacePresenter.tsx","Routes/AddPlace/AddPlaceQueries.ts","sharedNotLocalQueries.ts","Routes/AddPlace/index.tsx","Routes/AddPlace/AddPlaceContainer.tsx","Components/PhotoInput/PhotoInput.tsx","Components/PhotoInput/index.ts","Routes/EditAccount/EditAccountPresenter.tsx","Routes/EditAccount/EditAccountQueries.ts","Routes/EditAccount/index.tsx","Routes/EditAccount/EditAccountContainer.tsx","Utils/mapHelpers.ts","Components/AddressBar/AddressBar.tsx","Components/AddressBar/index.ts","Routes/FindAddress/FindAddressPresenter.tsx","Routes/FindAddress/FindAddressContainer.tsx","Routes/FindAddress/index.tsx","Components/Menu/MenuPresenter.tsx","Components/Menu/MenuQueries.ts","Components/Menu/index.ts","Components/Menu/MenuContainer.tsx","Components/RidePopUp/RidePopUp.tsx","Components/RidePopUp/index.tsx","Routes/Home/HomePresenter.tsx","Routes/Home/HomeQueries.ts","Routes/Home/HomeContainer.tsx","Routes/Home/index.tsx","Routes/Login/LoginPresenter.tsx","Routes/Login/index.tsx","Utils/countries.ts","Routes/PhoneLogin/PhoneLoginPresenter.tsx","Routes/PhoneLogin/PhoneLoginQueries.ts","Routes/PhoneLogin/index.tsx","Routes/PhoneLogin/PhoneLoginContainer.tsx","Components/Place/PlacePresenter.tsx","Components/Place/PlaceQueries.ts","Components/Place/index.tsx","Components/Place/PlaceContainer.tsx","Routes/Places/PlacesPresenter.tsx","Routes/Places/index.tsx","Routes/Places/PlacesContainer.tsx","Routes/Ride/RidePresenter.tsx","Routes/Ride/RideQueries.ts","Routes/Ride/index.tsx","Routes/Ride/RideContainer.tsx","sharedQueries.tsx","Routes/Settings/SettingsPresenter.tsx","Routes/Settings/index.tsx","Routes/Settings/SettingsContainer.tsx","Routes/SocialLogin/SocialLoginPresenter.tsx","Routes/SocialLogin/SocialLoginQueries.ts","Routes/SocialLogin/index.tsx","Routes/SocialLogin/SocialLoginContainer.tsx","Routes/VerifyPhone/VerifyPhonePresenter.tsx","Routes/VerifyPhone/VerifyPhoneQueries.ts","Routes/VerifyPhone/index.tsx","Routes/VerifyPhone/VerifyPhoneContainer.tsx","Routes/EmailSignUp/EmailSignUpPresenter.tsx","Routes/EmailSignUp/EmailSignUpQueries.ts","Routes/EmailSignUp/index.tsx","Routes/EmailSignUp/EmailSignUpContainer.tsx","Routes/EmailSignIn/EmailSignInPresenter.tsx","Routes/EmailSignIn/EmailSignInQueries.ts","Routes/EmailSignIn/index.tsx","Routes/EmailSignIn/EmailSignInContainer.tsx","Routes/ForgetPassword/ForgetPasswordPresenter.tsx","Routes/ForgetPassword/ForgetPasswordQueries.ts","Routes/ForgetPassword/index.tsx","Routes/ForgetPassword/ForgetPasswordContainer.tsx","Routes/VerifyEmail/VerifyEmailPresenter.tsx","Routes/VerifyEmail/VerifyEmailQueries.ts","Routes/VerifyEmail/index.tsx","Routes/VerifyEmail/VerifyEmailContainer.tsx","Components/Message/Message.tsx","Components/Message/index.ts","Routes/Chat/ChatPresenter.tsx","Routes/Chat/ChatQueries.ts","Routes/Chat/index.tsx","Routes/Chat/ChatContainer.tsx","Components/Ride/Ride.tsx","Components/Ride/index.tsx","Routes/History/HistoryPresenter.tsx","Routes/History/HistoryQueries.ts","Routes/History/index.tsx","Routes/History/HistoryContainer.tsx","Components/App/AppPresenter.tsx","Components/Style/theme.ts","Components/Style/GlobalStyle.ts","Components/App/index.ts","Components/App/AppContainer.tsx","index.tsx","images/bg.png"],"names":["config","PORT","process","REACT_APP_PORT","SERVER","GRAPHQL","GRAPHQL_ENDPOINT","AUTH","FACEBOOK_ID","SUBSCRIPTION","SUBSCRIPTION_ENDPOINT","CLOUDINARY","API","UPLOAD_PRESET","CLOUD_NAME","URL","name","GOOGLE","KEY","getToken","token","localStorage","getItem","cache","InMemoryCache","authMiddleware","ApolloLink","operation","forward","setContext","headers","jwt","console","log","httpLink","HttpLink","uri","wsLink","WebSocketLink","options","connectionParams","reconnect","combinedLinks","split","query","getMainDefinition","kind","errorLink","onError","graphQLErrors","networkError","forEach","message","toast","error","localStateLink","withClientState","defaults","auth","__typename","isLoggedIn","Boolean","resolvers","Mutation","logUserIn","_","appCache","setItem","writeData","data","logUserOut","__","removeItem","client","ApolloClient","link","from","concat","IS_LOGGED_IN","gql","styled","default","ThemeProvider","css","keyframes","createGlobalStyle","Container","input","Button","value","onClick","disabled","className","type","Form","submitFn","children","onSubmit","e","preventDefault","div","BackArrow","backTo","to","width","height","xmlns","fillRule","clipRule","d","header","Title","h2","Header","title","props","theme","greyColor","Input","placeholder","required","onChange","ExtendedInput","ExtendedLink","Link","AddPlacePresenter","onInputChange","address","loading","pickedAddress","Fragment","Helmet","routes","ADD_PLACE","USER_PROFILE","GET_PLACES","AddPlace","location","state","useState","setAddress","setName","lat","lng","event","a","target","inputName","useMutation","variables","isFaverite","onCompleted","ok","success","setTimeout","history","push","refetchQueries","addPlace","Image","label","PhotoInput","uploading","fileUrl","id","accept","htmlFor","src","alt","ExtendedForm","EditAccountPresenter","firstName","lastName","email","profilePhoto","UPDATE_PROFILE","EditAccount","setEmail","setFirstName","setLastName","setProfilePhoto","setUploading","updateProfieData","UpdateMyProfile","updateProfile","useQuery","userProfileData","user","GetMyProfile","files","formData","FormData","append","String","Date","now","axios","post","secure_url","geoCode","error_message","results","firstPlace","formatted_address","geometry","reverseGeoCode","AddressBar","onBlur","onKeyDown","Map","Center","ExtendedButton","FindAddressPresenter","this","mapRef","onInputBlur","onPickPlace","role","aria-label","ref","React","Component","FindAddressContainer","map","handleGeoSucces","positon","coords","latitude","longitude","setState","loadMap","reverseGeocodeAddress","handleGeoError","maps","google","mapNode","ReactDOM","findDOMNode","current","mapConfig","center","disableDefaultUI","minZoom","maxZoom","zoom","addListener","handleDragEnd","newCenter","getCenter","key","result","formatedAddress","panTo","setZoom","pathname","createRef","navigator","geolocation","getCurrentPosition","GoogleApiWrapper","apiKey","FindAddress","SLink","img","Name","Rating","h5","Text","span","Grid","ToggleDriving","button","isDriving","yellowColor","greenColor","MenuPresenter","toggleDrivingFn","fullName","TOGGLE_DRIVING","Menu","update","toggleData","ToggleDrivingMode","readQuery","writeQuery","h4","Data","blueColor","Img","Passenger","RidePopUp","pickUpAddress","dropOffAddress","price","distance","passengerName","passengerPhoto","acceptRideFn","rideId","MenuButton","RequestButton","HomePresenter","isMenuOpen","toggleMenu","toAddress","onAddressSubmit","requestRideFn","nearbyRide","GetNearbyRide","ride","sidebar","open","onSetOpen","styles","backgroundColor","zIndex","passenger","REPORT_LOCATION","GET_NEARBY_DRIVERS","REQUEST_RIDE","GET_NEARBY_RIDE","ACCEPT_RIDE","SUBSCRIBE_NEARBY_RIDES","HomeContainer","userMarker","toMarker","directions","drivers","duration","undefined","fromAddress","toLat","toLng","getFromAdress","userMarkerOptions","icon","path","SymbolPath","CIRCLE","scale","position","Marker","setMap","watchPosition","handleGeoWatchSuccess","handleGeoWatchError","enableHighAccuracy","reportLocation","setPosition","parseFloat","toFixed","toMarkerOptions","bounds","LatLngBounds","extend","fitBounds","createPath","DirectionsRenderer","polylineOptions","strokeColor","suppressMarkers","directionsService","DirectionsService","directionsOptions","destination","LatLng","origin","travelMode","TravelMode","DRIVING","route","handleRouteRequest","status","DirectionsStatus","OK","legs","text","setDirections","setPrice","Number","replace","handleNearByDrivers","GetNearbyDrivers","driver","exisitingDriver","find","driverMarker","get","lastLat","lastLng","markerOptions","FORWARD_CLOSED_ARROW","newMarker","set","handleRideRequest","RequestRide","handleProfileQuery","handleRideAcceptance","UpdateRideStatus","requestAddress","pollInterval","fetchPolicy","skip","mutation","dropOffLat","dropOffLng","pickUpLat","pickUpLng","subscribeToMore","document","updateQuery","prev","subscriptionData","Object","assign","NearbyRideSubscription","graphql","bgImage","Logo","h1","Footer","Subtitle","FakeInput","PhoneLogin","Grey","LoginWay","LoginLink","Login","countries","dial_code","code","flag","BackArrowExtended","CountrySelect","select","CountryOption","option","form","PhoneLoginPresenter","countryCode","phoneNumber","country","index","viewBox","fill","PHONE_SIGN_IN","setCountryCode","setPhoneNumber","StartPhoneVerification","phone","PhoneSignInMutation","test","Place","Icon","Address","Remove","PlacePresenter","onStarPress","fav","onRemovePress","EDIT_PLACE","DELETE_PLACE","placeId","editPlace","removePlace","PlacesPresenter","GetMyPlaces","places","length","place","Places","Buttons","RidePresenter","GetRide","userData","updateRideFn","chatId","GET_RIDE","RIDE_SUBSCRIPTION","UPDATE_RIDE_STATUS","Ride","match","params","RideStatusSubscription","window","href","LOG_USER_IN","LOG_USER_OUT","GridLink","Keys","Key","FakeLink","SettingsPresenter","placesData","userDataLoading","placesLoading","SettingsContainer","caches","reload","userLoading","SocialLoginPresenter","loginCallback","appId","autoLoad","callback","fields","render","renderProps","FACEBOOK_CONNECT","SocialLogin","FacebookConnect","facebookConnect","accessToken","first_name","fbId","VerifyPhonePresenter","verificationKey","VERIFY_PHONE","VerifyPhone","setVerificationKey","CompletePhoneVerification","verifyPhone","EmailSignUpPresenter","password","age","EMAIL_SIGNUP","EmailSignUp","setPassword","setAge","info","emailSignUp","EmailSignInPresenter","EMAIL_SINGIN","EmailSignIn","ForgetPasswordPresenter","UPDATE_PASSWORD","ForgetPassword","UpdatePassword","updatePassword","VerifyEmailPresenter","VERIFY_EMAIL","VerifyEmail","CompleteEmailVerification","verifyEmail","mine","Message","Chat","InputCont","ChatPresenter","GetChat","chat","messageText","messages","userId","GET_CHAT","SEND_MESSAGE","SUBSCRIBE_TO_MESSAGES","setMessage","sendMessageFn","MessageSubscription","Order","Distance","Request","order","driverName","onRequestDrive","HistoryRides","rides","GET_HISTORY_RIDES","History","HistoryPresenter","LoggedOutRoutes","exact","component","LoggedInRoutes","Home","Settings","AppPresenter","GlobalStyle","reset","App","draggable","getElementById","module","exports"],"mappings":"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","file":"static/js/main.248d3c52.chunk.js","sourcesContent":["import dev from './dev';\r\nimport prod from './prod';\r\n\r\nexport interface Config {\r\n  PORT: string;\r\n  SERVER: string;\r\n  GRAPHQL: {\r\n    GRAPHQL_ENDPOINT: string;\r\n  };\r\n  AUTH: {\r\n    FACEBOOK_ID: string;\r\n  };\r\n  SUBSCRIPTION: {\r\n    SUBSCRIPTION_ENDPOINT: string;\r\n  };\r\n  CLOUDINARY: {\r\n    API: string;\r\n    UPLOAD_PRESET: string;\r\n    CLOUD_NAME: string;\r\n    URL: (name: string) => string;\r\n  };\r\n  GOOGLE: {\r\n    KEY: string;\r\n  };\r\n}\r\n\r\nconst config = process.env.NODE_ENV === 'production' ? prod : dev;\r\n\r\nexport default config;\r\n","import { Config } from '.';\r\n\r\nconst config: Config = {\r\n  PORT: process.env.REACT_APP_PORT || '',\r\n  SERVER: process.env.REACT_APP_SERVER || '',\r\n  GRAPHQL: {\r\n    GRAPHQL_ENDPOINT: process.env.REACT_APP_GRAPHQL_ENDPOINT || '',\r\n  },\r\n  AUTH: {\r\n    FACEBOOK_ID: process.env.REACT_APP_FACEBOOK_ID || '',\r\n  },\r\n  SUBSCRIPTION: {\r\n    SUBSCRIPTION_ENDPOINT: process.env.REACT_APP_SUBSCRIPTION_ENDPOINT || '',\r\n  },\r\n  CLOUDINARY: {\r\n    API: process.env.REACT_APP_API || '',\r\n    UPLOAD_PRESET: process.env.REACT_APP_UPLOAD_PRESET || '',\r\n    CLOUD_NAME: process.env.REACT_APP_CLOUD_NAME || '',\r\n    URL: (name: string) =>\r\n      `https://api.cloudinary.com/v1_1/${name}/image/upload`,\r\n  },\r\n  GOOGLE: {\r\n    KEY: process.env.REACT_APP_GOOGLE_KEY || '',\r\n  },\r\n};\r\n\r\nexport default config;\r\n","import { InMemoryCache } from 'apollo-cache-inmemory';\r\nimport { ApolloClient } from 'apollo-client';\r\nimport { ApolloLink, concat, Operation, split } from 'apollo-link';\r\nimport { onError } from 'apollo-link-error';\r\nimport { HttpLink } from 'apollo-link-http';\r\nimport { withClientState } from 'apollo-link-state';\r\nimport { WebSocketLink } from 'apollo-link-ws';\r\nimport { getMainDefinition } from 'apollo-utilities';\r\nimport { toast } from 'react-toastify';\r\nimport config from './config';\r\n\r\nconst getToken = () => {\r\n  const token = localStorage.getItem('jwt');\r\n  if (token) {\r\n    return token;\r\n  } else {\r\n    return '';\r\n  }\r\n};\r\n\r\nconst cache = new InMemoryCache();\r\n\r\nconst authMiddleware = new ApolloLink((operation: Operation, forward: any) => {\r\n  operation.setContext({\r\n    headers: {\r\n      jwt: getToken(),\r\n    },\r\n  });\r\n  return forward(operation);\r\n});\r\n\r\n// tslint:disable-next-line:no-console\r\nconsole.log('endpoint', process.env.REACT_APP_GRAPHQL_ENDPOINT);\r\n// tslint:disable-next-line:no-console\r\nconsole.log('ws:', `http://${config.SERVER}${config.GRAPHQL.GRAPHQL_ENDPOINT}`);\r\nconst httpLink = new HttpLink({\r\n  uri: `https://${config.SERVER}${config.GRAPHQL.GRAPHQL_ENDPOINT}`,\r\n});\r\n\r\nconst protocol = process.env.NODE_ENV === 'production' ? 'wss' : 'ws';\r\n\r\nconst wsLink = new WebSocketLink({\r\n  options: {\r\n    connectionParams: {\r\n      jwt: getToken(),\r\n    },\r\n    reconnect: true,\r\n  },\r\n  uri: `${protocol}://${config.SERVER}${config.SUBSCRIPTION.SUBSCRIPTION_ENDPOINT}`,\r\n});\r\n\r\nconst combinedLinks = split(\r\n  ({ query }) => {\r\n    const { kind, operation }: any = getMainDefinition(query);\r\n    return kind === 'OperationDefinition' && operation === 'subscription';\r\n  },\r\n  wsLink,\r\n  httpLink\r\n);\r\n\r\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\r\n  if (graphQLErrors) {\r\n    graphQLErrors.forEach(({ message }) => {\r\n      toast.error(`Unexpected error: ${message}`);\r\n    });\r\n  }\r\n  if (networkError) {\r\n    toast.error(`Network error: ${networkError}`);\r\n  }\r\n});\r\n\r\nconst localStateLink = withClientState({\r\n  cache,\r\n  defaults: {\r\n    auth: {\r\n      __typename: 'Auth',\r\n      isLoggedIn: Boolean(localStorage.getItem('jwt')),\r\n    },\r\n  },\r\n  resolvers: {\r\n    Mutation: {\r\n      logUserIn: (_, { token }, { cache: appCache }) => {\r\n        localStorage.setItem('jwt', token);\r\n        appCache.writeData({\r\n          data: {\r\n            auth: {\r\n              __typename: 'Auth',\r\n              isLoggedIn: true,\r\n            },\r\n          },\r\n        });\r\n        return null;\r\n      },\r\n      logUserOut: (_, __, { cache: appCache }) => {\r\n        localStorage.removeItem('jwt');\r\n        appCache.writeData({\r\n          data: {\r\n            auth: {\r\n              __typename: 'Auth',\r\n              isLoggedIn: false,\r\n            },\r\n          },\r\n        });\r\n        return null;\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  cache,\r\n  link: ApolloLink.from([\r\n    errorLink,\r\n    localStateLink,\r\n    concat(authMiddleware, combinedLinks),\r\n  ]),\r\n});\r\n\r\nexport default client;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const IS_LOGGED_IN = gql`\r\n  {\r\n    auth {\r\n      isLoggedIn @client\r\n    }\r\n  }\r\n`;\r\n","import * as styledComponents from 'styled-components';\r\nimport { ThemedStyledComponentsModule } from 'styled-components';\r\n\r\ninterface IThemeInterface {\r\n  blueColor: string;\r\n  greyColor: string;\r\n  yellowColor: string;\r\n  greenColor: string;\r\n}\r\n\r\nconst {\r\n  default: styled,\r\n  css,\r\n  keyframes,\r\n  ThemeProvider,\r\n  createGlobalStyle,\r\n} = styledComponents as ThemedStyledComponentsModule<IThemeInterface>;\r\n\r\nexport { css, keyframes, ThemeProvider, createGlobalStyle };\r\nexport default styled;\r\n","import React from 'react';\r\nimport styled from '../Style/typed-components';\r\n\r\nconst Container = styled.input`\r\n  width: 100%;\r\n  background-color: black;\r\n  color: white;\r\n  text-transform: uppercase;\r\n  padding: 15px 0;\r\n  font-size: 16px;\r\n  border: 0;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  text-align: center;\r\n  &:active,\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n  &:disabled {\r\n    opacity: 0.8;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\ninterface IProps {\r\n  value: string;\r\n  onClick: any;\r\n  disabled?: boolean;\r\n  className?: string;\r\n}\r\n\r\nconst Button: React.FC<IProps> = ({\r\n  value,\r\n  onClick,\r\n  disabled = false,\r\n  className,\r\n}) => (\r\n  <Container\r\n    value={value}\r\n    onClick={onClick}\r\n    disabled={disabled}\r\n    className={className}\r\n    type={'submit'}\r\n  />\r\n);\r\n\r\nexport default Button;\r\n","import Button from './Button';\r\n\r\nexport default Button;\r\n","import Form from './Form';\r\n\r\nexport default Form;\r\n","import React from 'react';\r\n\r\ninterface IProps {\r\n  submitFn: any;\r\n  className?: string;\r\n}\r\n\r\nconst Form: React.FC<IProps> = ({ submitFn, className, children }) => (\r\n  <form\r\n    className={className}\r\n    onSubmit={(e) => {\r\n      e.preventDefault();\r\n      submitFn();\r\n    }}>\r\n    {children}\r\n  </form>\r\n);\r\n\r\nexport default Form;\r\n","import React, { FC } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from '../Style/typed-components';\r\n\r\nconst Container = styled.div`\r\n  transform: scale(0.8);\r\n`;\r\n\r\ninterface IProps {\r\n  backTo: string;\r\n  className?: string;\r\n}\r\n\r\nconst BackArrow: FC<IProps> = ({ backTo, className }) => (\r\n  <Container className={className}>\r\n    <Link to={backTo}>\r\n      <svg\r\n        width='24'\r\n        height='24'\r\n        xmlns='http://www.w3.org/2000/svg'\r\n        fillRule='evenodd'\r\n        clipRule='evenodd'>\r\n        <path d='M20 .755l-14.374 11.245 14.374 11.219-.619.781-15.381-12 15.391-12 .609.755z' />\r\n      </svg>\r\n    </Link>\r\n  </Container>\r\n);\r\n\r\nexport default BackArrow;\r\n","import BackArrow from './BackArrow';\r\n\r\nexport default BackArrow;\r\n","import React from 'react';\r\nimport styled from '../Style/typed-components';\r\nimport BackArrow from '../BackArrow';\r\n\r\nconst Container = styled.header`\r\n  background-color: black;\r\n  color: white;\r\n  display: flex;\r\n  height: 50px;\r\n  font-size: 20px;\r\n  font-weight: 300;\r\n  align-items: center;\r\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);\r\n  & svg {\r\n    fill: white;\r\n  }\r\n  margin-bottom: 50px;\r\n  padding: 0 10px;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  margin-left: 10px;\r\n`;\r\n\r\ninterface IProps {\r\n  title: string;\r\n  backTo?: string;\r\n}\r\n\r\nconst Header: React.FC<IProps> = ({ title, backTo }) => (\r\n  <Container>\r\n    {backTo && <BackArrow backTo={backTo} />}\r\n    <Title>{title}</Title>\r\n  </Container>\r\n);\r\n\r\nexport default Header;\r\n","import Header from './Header';\r\n\r\nexport default Header;\r\n","import React, { FC } from 'react';\r\nimport styled from '../Style/typed-components';\r\n\r\nconst Container = styled.input`\r\n  border: none;\r\n  border-bottom: 2px solid ${(props) => props.theme.greyColor};\r\n  font-size: 20px;\r\n  width: 100%;\r\n  padding-bottom: 10px;\r\n  font-weight: 500;\r\n  transition: border-bottom 0.1s linear;\r\n  &:-webkit-autofill {\r\n    box-shadow: 0 0 0px 1000px white inset !important;\r\n  }\r\n  &:focus {\r\n    border-bottom-color: #2c3e50;\r\n    outline: none;\r\n  }\r\n  &::placeholder {\r\n    color: ${(props) => props.theme.greyColor};\r\n    font-weight: 300;\r\n  }\r\n`;\r\n\r\ninterface IProps {\r\n  placeholder?: string;\r\n  name?: string;\r\n  type?: string;\r\n  required?: boolean;\r\n  value: string;\r\n  onChange: any;\r\n  className?: string;\r\n  disabled?: boolean;\r\n}\r\n\r\nconst Input: FC<IProps> = ({\r\n  placeholder = '',\r\n  name = '',\r\n  type = 'text',\r\n  required = true,\r\n  value,\r\n  onChange,\r\n  className,\r\n  disabled = false,\r\n}) => (\r\n  <Container\r\n    type={type}\r\n    className={className}\r\n    name={name}\r\n    placeholder={placeholder}\r\n    value={value}\r\n    required={required}\r\n    onChange={onChange}\r\n    disabled={disabled}\r\n  />\r\n);\r\n\r\nexport default Input;\r\n","import Input from './Input';\r\n\r\nexport default Input;\r\n","export default {\r\n  home: '/',\r\n  phoneLogin: '/phone-login',\r\n  verifyPhone: '/verify-phone',\r\n  emailSignUp: '/email-signup',\r\n  emailSignIn: '/email-signin',\r\n  verifyEmail: '/verify-email',\r\n  forgetPassword: '/forget-password',\r\n  socialLogin: '/social-login',\r\n  trips: '/trips',\r\n  ride: '/ride',\r\n  chat: '/chat',\r\n  editAccount: '/edit-account',\r\n  settings: '/settings',\r\n  places: '/places',\r\n  history: '/history',\r\n  addPlace: '/add-place',\r\n  findAddress: '/find-address',\r\n};\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '../../Components/Button';\r\nimport Form from '../../Components/Form';\r\nimport Header from '../../Components/Header';\r\nimport Input from '../../Components/Input';\r\nimport styled from '../../Components/Style/typed-components';\r\nimport routes from '../../config/routes';\r\n\r\nconst Container = styled.div`\r\n  padding: 0 40px;\r\n`;\r\n\r\nconst ExtendedInput = styled(Input)`\r\n  margin-bottom: 40px;\r\n`;\r\n\r\nconst ExtendedLink = styled(Link)`\r\n  text-decoration: underline;\r\n  margin-bottom: 20px;\r\n  display: block;\r\n`;\r\n\r\ninterface IProps {\r\n  address: string;\r\n  name: string;\r\n  onInputChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n  loading: boolean;\r\n  onSubmit: any;\r\n  pickedAddress: boolean;\r\n}\r\n\r\nconst AddPlacePresenter: React.FC<IProps> = ({\r\n  onInputChange,\r\n  address,\r\n  name,\r\n  loading,\r\n  onSubmit,\r\n  pickedAddress,\r\n}) => (\r\n  <React.Fragment>\r\n    <Helmet>\r\n      <title>Add Place | Nuber</title>\r\n    </Helmet>\r\n    <Header title={'Add Place'} backTo={routes.home} />\r\n    <Container>\r\n      <Form submitFn={onSubmit}>\r\n        <ExtendedInput\r\n          placeholder={'Name'}\r\n          type={'text'}\r\n          onChange={onInputChange}\r\n          value={name}\r\n          name={'name'}\r\n          disabled={!pickedAddress}\r\n        />\r\n        <ExtendedInput\r\n          placeholder={'Address'}\r\n          type={'text'}\r\n          onChange={onInputChange}\r\n          value={address}\r\n          name={'address'}\r\n          disabled={!pickedAddress}\r\n        />\r\n        <ExtendedLink to={routes.findAddress}>Pick place from map</ExtendedLink>\r\n        {pickedAddress && (\r\n          <Button\r\n            onClick={null}\r\n            value={loading ? 'Adding place' : 'Add Place'}\r\n          />\r\n        )}\r\n      </Form>\r\n    </Container>\r\n  </React.Fragment>\r\n);\r\n\r\nexport default AddPlacePresenter;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const ADD_PLACE = gql`\r\n  mutation addPlace(\r\n    $name: String!\r\n    $lat: Float!\r\n    $lng: Float!\r\n    $address: String!\r\n    $isFaverite: Boolean!\r\n  ) {\r\n    AddPlace(\r\n      name: $name\r\n      lat: $lat\r\n      lng: $lng\r\n      address: $address\r\n      isFaverite: $isFaverite\r\n    ) {\r\n      ok\r\n      error\r\n    }\r\n  }\r\n`;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const USER_PROFILE = gql`\r\n  query userProfile {\r\n    GetMyProfile {\r\n      ok\r\n      error\r\n      user {\r\n        id\r\n        profilePhoto\r\n        firstName\r\n        lastName\r\n        email\r\n        fullName\r\n        isDriving\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_PLACES = gql`\r\n  query getPlaces {\r\n    GetMyPlaces {\r\n      ok\r\n      error\r\n      places {\r\n        id\r\n        name\r\n        address\r\n        isFaverite\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import AddPlace from './AddPlaceContainer';\r\nexport default AddPlace;\r\n","import React, { useState } from 'react';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport AddPlacePresenter from './AddPlacePresenter';\r\nimport { useMutation } from 'react-apollo';\r\nimport { ADD_PLACE } from './AddPlaceQueries';\r\nimport { toast } from 'react-toastify';\r\nimport { GET_PLACES } from '../../sharedNotLocalQueries';\r\n\r\ninterface IProps extends RouteComponentProps<any> {\r\n  location;\r\n}\r\n\r\nconst AddPlaceContainer: React.FC<IProps> = (props) => {\r\n  const { location: { state = {} } = {} } = props;\r\n  const [address, setAddress] = useState(state.address || '');\r\n  const [name, setName] = useState('');\r\n  const [lat] = useState(state.lat || 0);\r\n  const [lng] = useState(state.lng || 0);\r\n\r\n  const onInputChange: React.ChangeEventHandler<HTMLInputElement> = async (\r\n    event\r\n  ) => {\r\n    const {\r\n      target: { name: inputName, value },\r\n    } = event;\r\n    switch (inputName) {\r\n      case 'address':\r\n        setAddress(value);\r\n        break;\r\n      case 'name':\r\n        setName(value);\r\n        break;\r\n    }\r\n  };\r\n\r\n  const [addPlace] = useMutation(ADD_PLACE, {\r\n    variables: {\r\n      address,\r\n      isFaverite: false,\r\n      lat,\r\n      lng,\r\n      name,\r\n    },\r\n    onCompleted: (data) => {\r\n      const { AddPlace } = data;\r\n      if (AddPlace.ok) {\r\n        toast.success('Place added!');\r\n        setTimeout(() => {\r\n          props.history.push('/places');\r\n        }, 2000);\r\n      } else {\r\n        toast.error(AddPlace.error);\r\n      }\r\n    },\r\n    refetchQueries: [{ query: GET_PLACES }],\r\n  });\r\n\r\n  return (\r\n    <AddPlacePresenter\r\n      onInputChange={onInputChange}\r\n      address={address}\r\n      name={name}\r\n      loading={false}\r\n      onSubmit={addPlace}\r\n      pickedAddress={lat !== 0 && lng !== 0}\r\n    />\r\n  );\r\n};\r\n\r\nexport default AddPlaceContainer;\r\n","import React from 'react';\r\nimport styled from '../Style/typed-components';\r\n\r\nconst Container = styled.div``;\r\n\r\nconst Image = styled.label`\r\n  cursor: pointer;\r\n  height: 80px;\r\n  width: 80px;\r\n  border: 2px solid black;\r\n  display: block;\r\n  border-radius: 50%;\r\n  margin-bottom: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 28px;\r\n  overflow: hidden;\r\n  & img {\r\n    width: 80px;\r\n    height: 80px;\r\n    object-fit: contain;\r\n  }\r\n`;\r\n\r\nconst Input = styled.input`\r\n  color: white;\r\n  opacity: 0;\r\n  height: 1px;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\ninterface IProps {\r\n  uploading: boolean;\r\n  fileUrl: string;\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n}\r\n\r\nconst PhotoInput: React.FC<IProps> = ({ uploading, fileUrl, onChange }) => (\r\n  <Container>\r\n    <Input id={'photo'} type='file' accept='image/*' onChange={onChange} />\r\n    <Image htmlFor='photo'>\r\n      {uploading && '⏰'}\r\n      {!uploading && <img src={fileUrl} alt='url' />}\r\n    </Image>\r\n  </Container>\r\n);\r\n\r\nexport default PhotoInput;\r\n","import PhotoInput from './PhotoInput';\r\nexport default PhotoInput;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport PhotoInput from '../../Components/PhotoInput';\r\nimport Button from '../../Components/Button';\r\nimport Form from '../../Components/Form';\r\nimport Header from '../../Components/Header';\r\nimport Input from '../../Components/Input';\r\nimport styled from '../../Components/Style/typed-components';\r\n\r\nconst Container = styled.div``;\r\n\r\nconst ExtendedForm = styled(Form)`\r\n  padding: 0px 40px;\r\n`;\r\n\r\nconst ExtendedInput = styled(Input)`\r\n  margin-bottom: 30px;\r\n`;\r\n\r\ninterface IProps {\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n  profilePhoto: string;\r\n  onSubmit: any;\r\n  onInputChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n  loading: boolean;\r\n  // uploaded: boolean;\r\n  uploading: boolean;\r\n}\r\n\r\nconst EditAccountPresenter: React.FC<IProps> = ({\r\n  firstName,\r\n  lastName,\r\n  email,\r\n  onSubmit,\r\n  profilePhoto,\r\n  onInputChange,\r\n  loading,\r\n  // uploaded,\r\n  uploading,\r\n}) => (\r\n  <Container>\r\n    <Helmet>\r\n      <title>Edit Account | Number</title>\r\n    </Helmet>\r\n    <Header title={'Edit Account'} backTo={'/'} />\r\n    <ExtendedForm submitFn={onSubmit}>\r\n      <PhotoInput\r\n        // uploaded={uploaded}\r\n        uploading={uploading}\r\n        fileUrl={profilePhoto}\r\n        onChange={onInputChange}\r\n      />\r\n      <ExtendedInput\r\n        onChange={onInputChange}\r\n        type={'text'}\r\n        value={firstName}\r\n        placeholder={'First name'}\r\n        name={'firstName'}\r\n      />\r\n      <ExtendedInput\r\n        onChange={onInputChange}\r\n        type={'text'}\r\n        value={lastName}\r\n        placeholder={'Last name'}\r\n        name={'lastName'}\r\n      />\r\n      <ExtendedInput\r\n        onChange={onInputChange}\r\n        type={'email'}\r\n        value={email}\r\n        placeholder={'Email'}\r\n        name={'email'}\r\n      />\r\n      <Button onClick={null} value={loading ? 'Loading' : 'Update'} />\r\n    </ExtendedForm>\r\n  </Container>\r\n);\r\n\r\nexport default EditAccountPresenter;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const UPDATE_PROFILE = gql`\r\n  mutation updateProfile(\r\n    $firstName: String!\r\n    $lastName: String!\r\n    $email: String!\r\n    $profilePhoto: String!\r\n  ) {\r\n    UpdateMyProfile(\r\n      firstName: $firstName\r\n      lastName: $lastName\r\n      email: $email\r\n      profilePhoto: $profilePhoto\r\n    ) {\r\n      ok\r\n      error\r\n    }\r\n  }\r\n`;\r\n","import EditAccount from './EditAccountContainer';\r\nexport default EditAccount;\r\n","import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { useMutation, useQuery } from 'react-apollo';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport EditAccountPresenter from './EditAccountPresenter';\r\nimport { UPDATE_PROFILE } from './EditAccountQueries';\r\nimport { userProfile } from '../../types/api';\r\nimport { USER_PROFILE } from '../../sharedNotLocalQueries';\r\nimport { toast } from 'react-toastify';\r\nimport config from '../../config';\r\n\r\ninterface IProps extends RouteComponentProps<any> {}\r\n\r\nconst EditAccountContainer = (props: IProps) => {\r\n  const [email, setEmail] = useState('');\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [profilePhoto, setProfilePhoto] = useState('');\r\n  const [uploading, setUploading] = useState(false);\r\n\r\n  const [updateProfile, { loading }] = useMutation(UPDATE_PROFILE, {\r\n    variables: {\r\n      email,\r\n      firstName,\r\n      lastName,\r\n      profilePhoto,\r\n    },\r\n    refetchQueries: [{ query: USER_PROFILE }],\r\n    onCompleted: (updateProfieData) => {\r\n      const { UpdateMyProfile } = updateProfieData;\r\n      if (UpdateMyProfile.ok) {\r\n        toast.success('Profile updated!');\r\n      } else if (UpdateMyProfile.error) {\r\n        toast.error(UpdateMyProfile.error);\r\n      }\r\n    },\r\n  });\r\n\r\n  useQuery(USER_PROFILE, {\r\n    // fetchPolicy: 'cache-and-network',\r\n    onCompleted: (userProfileData: userProfile) => {\r\n      if ('GetMyProfile' in userProfileData) {\r\n        const {\r\n          GetMyProfile: { user },\r\n        } = userProfileData;\r\n        if (user !== null) {\r\n          setEmail(user.email || '');\r\n          setFirstName(user.firstName);\r\n          setLastName(user.lastName);\r\n          setProfilePhoto(\r\n            user.profilePhoto ||\r\n              'https://lh3.googleusercontent.com/-CTwXMuZRaWw/AAAAAAAAAAI/AAAAAAAAAUg/8T5nFuIdnHE/photo.jpg'\r\n          );\r\n        }\r\n      }\r\n    },\r\n  });\r\n  // console.log('profileQuery:', data);\r\n\r\n  const onInputChange: React.ChangeEventHandler<HTMLInputElement> = async (\r\n    event\r\n  ) => {\r\n    const {\r\n      target: { name, value, files },\r\n    } = event;\r\n    if (files) {\r\n      // console.log('files:', files);\r\n      setUploading(true);\r\n      const formData = new FormData(); // multipart form\r\n      formData.append('file', files[0]);\r\n      formData.append('api_key', config.CLOUDINARY.API);\r\n      formData.append('upload_preset', config.CLOUDINARY.UPLOAD_PRESET);\r\n      formData.append('timestamp', String(Date.now() / 1000));\r\n      const {\r\n        data: { secure_url },\r\n      } = await axios.post(\r\n        config.CLOUDINARY.URL(config.CLOUDINARY.CLOUD_NAME),\r\n        formData\r\n      );\r\n      if (secure_url) {\r\n        setProfilePhoto(secure_url);\r\n        setUploading(false);\r\n      }\r\n    }\r\n    switch (name) {\r\n      case 'firstName':\r\n        setFirstName(value);\r\n        break;\r\n      case 'lastName':\r\n        setLastName(value);\r\n        break;\r\n      case 'email':\r\n        setEmail(value);\r\n        break;\r\n      case 'profilePhoto':\r\n        setProfilePhoto(value);\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <EditAccountPresenter\r\n      email={email}\r\n      firstName={firstName}\r\n      lastName={lastName}\r\n      profilePhoto={profilePhoto}\r\n      onInputChange={onInputChange}\r\n      loading={loading}\r\n      onSubmit={updateProfile}\r\n      uploading={uploading}\r\n    />\r\n  );\r\n};\r\n\r\nexport default EditAccountContainer;\r\n","import axios from 'axios';\r\nimport config from '../config';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport const geoCode = async (address: string) => {\r\n  const URL = `https://maps.googleapis.com/maps/api/geocode/json?address=${address}&key=${config.GOOGLE.KEY}`;\r\n  const { data } = await axios(URL);\r\n  if (!data.error_message) {\r\n    const { results } = data;\r\n    const firstPlace = results[0];\r\n    const {\r\n      formatted_address,\r\n      geometry: {\r\n        location: { lat, lng },\r\n      },\r\n    } = firstPlace;\r\n    return { formatted_address, lat, lng };\r\n  } else {\r\n    toast.error(data.error_message);\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const reverseGeoCode = async (lat: number, lng: number) => {\r\n  const URL = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${lat},${lng}&key=${config.GOOGLE.KEY}`;\r\n  const { data } = await axios(URL);\r\n  // console.log(status, data);\r\n  if (!data.error_message) {\r\n    const { results } = data;\r\n    const firstPlace = results[0];\r\n    if (!firstPlace) {\r\n      return false;\r\n    }\r\n    const address = firstPlace.formatted_address;\r\n    return address;\r\n  } else {\r\n    toast.error(data.error_message);\r\n    return false;\r\n  }\r\n};\r\n","import React from 'react';\r\nimport styled from '../Style/typed-components';\r\n\r\nconst Container = styled.input`\r\n  position: absolute;\r\n  background-color: white;\r\n  border-radius: 5px;\r\n  -webkit-appearance: none;\r\n  z-index: 2;\r\n  width: 80%;\r\n  border: 0;\r\n  font-size: 16px;\r\n  padding: 15px 10px;\r\n  box-shadow: 0 18px 35px rgba(50, 50, 93, 0.1), 0 8px 15px rgba(0, 0, 0, 0.07);\r\n  margin: auto;\r\n  top: 10px;\r\n  left: 0;\r\n  right: 0;\r\n  height: auto;\r\n`;\r\n\r\ninterface IProps {\r\n  value: string;\r\n  onBlur: any;\r\n  name: string;\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n  onKeyDown?: (event: React.KeyboardEvent<HTMLInputElement>) => void;\r\n}\r\n\r\nconst AddressBar: React.FC<IProps> = ({\r\n  value,\r\n  onBlur,\r\n  onChange,\r\n  onKeyDown,\r\n  name,\r\n}) => (\r\n  <Container\r\n    value={value}\r\n    onBlur={onBlur}\r\n    onSubmit={onBlur}\r\n    onChange={onChange}\r\n    onKeyDown={onKeyDown}\r\n    placeholder={'Type address'}\r\n    name={name}\r\n  />\r\n);\r\n\r\nexport default AddressBar;\r\n","import AddressBar from './AddressBar';\r\nexport default AddressBar;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport AddressBar from '../../Components/AddressBar';\r\nimport styled from '../../Components/Style/typed-components';\r\nimport Button from '../../Components/Button';\r\n\r\nconst Map = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  z-index: 1;\r\n`;\r\n\r\nconst Center = styled.div`\r\n  position: absolute;\r\n  width: 40px;\r\n  height: 40px;\r\n  z-index: 2;\r\n  font-size: 30px;\r\n  margin: auto;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n`;\r\n\r\nconst ExtendedButton = styled(Button)`\r\n  position: absolute;\r\n  bottom: 50px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  z-index: 10;\r\n  height: auto;\r\n  width: 80%;\r\n`;\r\n\r\ninterface IProps {\r\n  mapRef: any;\r\n  address: string;\r\n  onInputBlur: () => void;\r\n  onPickPlace: () => void;\r\n  onInputChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n  onKeyDown: (event: React.KeyboardEvent<HTMLInputElement>) => void;\r\n}\r\n\r\nclass FindAddressPresenter extends React.Component<IProps> {\r\n  public render() {\r\n    const {\r\n      mapRef,\r\n      address,\r\n      onInputChange,\r\n      onInputBlur,\r\n      onKeyDown,\r\n      onPickPlace,\r\n    } = this.props;\r\n    return (\r\n      <div>\r\n        <Helmet>\r\n          <title>Find Address | Nuber</title>\r\n        </Helmet>\r\n        <AddressBar\r\n          onBlur={onInputBlur}\r\n          onChange={onInputChange}\r\n          onKeyDown={onKeyDown}\r\n          name={'address'}\r\n          value={address}\r\n        />\r\n        <ExtendedButton value={'Pick this place'} onClick={onPickPlace} />\r\n        <Center>\r\n          <span role='img' aria-label='center'>\r\n            📍\r\n          </span>\r\n        </Center>\r\n        <Map ref={mapRef} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FindAddressPresenter;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { geoCode, reverseGeoCode } from '../../Utils/mapHelpers';\r\nimport FindAddressPresenter from './FindAddressPresenter';\r\nimport { toast } from 'react-toastify';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport routes from '../../config/routes';\r\n\r\ninterface IState {\r\n  lat: number;\r\n  lng: number;\r\n  address: string;\r\n}\r\n\r\ninterface IProps extends RouteComponentProps<any> {\r\n  google: any;\r\n}\r\n\r\nclass FindAddressContainer extends React.Component<IProps, IState> {\r\n  mapRef: any;\r\n  map: google.maps.Map;\r\n\r\n  state = {\r\n    address: '',\r\n    lat: 0,\r\n    lng: 0,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.mapRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    navigator.geolocation.getCurrentPosition(\r\n      this.handleGeoSucces,\r\n      this.handleGeoError\r\n    );\r\n  }\r\n\r\n  private handleGeoSucces: PositionCallback = (positon: Position) => {\r\n    const {\r\n      coords: { latitude, longitude },\r\n    } = positon;\r\n    // console.log(positon);\r\n    this.setState({\r\n      lat: latitude,\r\n      lng: longitude,\r\n    });\r\n    this.loadMap(latitude, longitude);\r\n    this.reverseGeocodeAddress(latitude, longitude);\r\n  };\r\n\r\n  private handleGeoError: PositionErrorCallback = () => {\r\n    toast.error('No location');\r\n  };\r\n\r\n  private loadMap = (lat, lng) => {\r\n    const { google } = this.props;\r\n    const maps = google.maps;\r\n    console.log('mapRef:', this.mapRef);\r\n    const mapNode = ReactDOM.findDOMNode(this.mapRef.current);\r\n    const mapConfig: google.maps.MapOptions = {\r\n      center: {\r\n        lat,\r\n        lng,\r\n      },\r\n      disableDefaultUI: true,\r\n      minZoom: 9,\r\n      maxZoom: 20,\r\n      zoom: 12,\r\n    };\r\n    this.map = new maps.Map(mapNode, mapConfig);\r\n    this.map.addListener('dragend', this.handleDragEnd);\r\n  };\r\n\r\n  private handleDragEnd = () => {\r\n    const newCenter = this.map.getCenter();\r\n    const lat = newCenter.lat();\r\n    const lng = newCenter.lng();\r\n    this.setState({\r\n      lat,\r\n      lng,\r\n    });\r\n    this.reverseGeocodeAddress(lat, lng);\r\n  };\r\n\r\n  private onInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const {\r\n      target: { name, value },\r\n    } = event;\r\n    this.setState({\r\n      [name]: value,\r\n    } as any);\r\n  };\r\n\r\n  private onKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (event.key === 'Enter') {\r\n      this.onInputBlur();\r\n    }\r\n  };\r\n\r\n  private onInputBlur = async () => {\r\n    // toast.info('Address updated');\r\n    const { address } = this.state;\r\n    const result = await geoCode(address);\r\n    if (result) {\r\n      const { lat, lng, formatted_address: formatedAddress } = result;\r\n      this.setState({\r\n        address: formatedAddress,\r\n        lat,\r\n        lng,\r\n      });\r\n      this.map.panTo({ lat, lng });\r\n      this.map.setZoom(18);\r\n      // const latLng = new google.maps.LatLng(lat, lng);\r\n      // this.map.panTo(latLng);\r\n    }\r\n  };\r\n\r\n  private reverseGeocodeAddress = async (lat: number, lng: number) => {\r\n    const address = await reverseGeoCode(lat, lng);\r\n    if (address) {\r\n      this.setState({\r\n        address,\r\n      });\r\n    }\r\n  };\r\n\r\n  private onPickPlace = () => {\r\n    const { address, lat, lng } = this.state;\r\n    const { history } = this.props;\r\n    history.push({\r\n      pathname: routes.addPlace,\r\n      state: {\r\n        address,\r\n        lat,\r\n        lng,\r\n      },\r\n    });\r\n    // console.log(address, lat, lng);\r\n  };\r\n\r\n  render() {\r\n    // console.log(this.props); // check google\r\n    // console.log(this.state);\r\n    const { address } = this.state;\r\n    return (\r\n      <FindAddressPresenter\r\n        mapRef={this.mapRef}\r\n        address={address}\r\n        onInputChange={this.onInputChange}\r\n        onInputBlur={this.onInputBlur}\r\n        onKeyDown={this.onKeyDown}\r\n        onPickPlace={this.onPickPlace}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default FindAddressContainer;\r\n","import { GoogleApiWrapper } from 'google-maps-react';\r\nimport FindAddress from './FindAddressContainer';\r\nimport config from '../../config';\r\nexport default GoogleApiWrapper({\r\n  apiKey: config.GOOGLE.KEY,\r\n})(FindAddress);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from '../Style/typed-components';\r\nimport { userProfile } from '../../types/api';\r\nimport routes from '../../config/routes';\r\n\r\nconst Container = styled.div`\r\n  height: 100%;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  background-color: black;\r\n  height: 20%;\r\n  margin-bottom: 30px;\r\n  padding: 0 15px;\r\n  color: white;\r\n`;\r\n\r\nconst SLink = styled(Link)`\r\n  font-size: 22px;\r\n  display: block;\r\n  margin-left: 15px;\r\n  margin-bottom: 25px;\r\n  font-weight: 400;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  height: 80px;\r\n  width: 80px;\r\n  background-color: grey;\r\n  border-radius: 40px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst Name = styled.h2`\r\n  font-size: 22px;\r\n  color: white;\r\n  margin-bottom: 10px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nconst Rating = styled.h5`\r\n  font-size: 18px;\r\n  color: white;\r\n`;\r\n\r\nconst Text = styled.span`\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst Grid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 2fr;\r\n  grid-gap: 10px;\r\n  height: 100%;\r\n  align-items: center;\r\n`;\r\n\r\ninterface IToggleProps {\r\n  isDriving: boolean;\r\n}\r\n\r\nconst ToggleDriving = styled.button<IToggleProps>`\r\n  -webkit-appearance: none;\r\n  background-color: ${(props) =>\r\n    props.isDriving ? props.theme.yellowColor : props.theme.greenColor};\r\n  width: 100%;\r\n  color: white;\r\n  font-size: 18px;\r\n  border: 0;\r\n  padding: 15px 0px;\r\n  cursor: pointer;\r\n`;\r\n\r\ninterface IProps {\r\n  data?: userProfile;\r\n  loading: boolean;\r\n  toggleDrivingFn: any;\r\n}\r\n\r\nconst MenuPresenter: React.FC<IProps> = ({\r\n  data: { GetMyProfile: { user = null } = {} } = {},\r\n  loading,\r\n  toggleDrivingFn,\r\n}) => (\r\n  <Container>\r\n    {!loading && user && user.fullName && (\r\n      <React.Fragment>\r\n        <Header>\r\n          <Grid>\r\n            <Link to={routes.editAccount}>\r\n              <Image\r\n                src={\r\n                  user.profilePhoto ||\r\n                  'https://lh3.googleusercontent.com/-CTwXMuZRaWw/AAAAAAAAAAI/AAAAAAAAAUg/8T5nFuIdnHE/photo.jpg'\r\n                }\r\n              />\r\n            </Link>\r\n            <Text>\r\n              <Name>{user.fullName}</Name>\r\n              <Rating>4.5</Rating>\r\n            </Text>\r\n          </Grid>\r\n        </Header>\r\n        <SLink to={routes.trips}>Your Trips</SLink>\r\n        <SLink to={routes.settings}>Settings</SLink>\r\n        <ToggleDriving onClick={toggleDrivingFn} isDriving={user.isDriving}>\r\n          {user.isDriving ? 'Stop driving' : 'Start driving'}\r\n        </ToggleDriving>\r\n      </React.Fragment>\r\n    )}\r\n  </Container>\r\n);\r\n\r\nexport default MenuPresenter;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const TOGGLE_DRIVING = gql`\r\n  mutation toggleDriving {\r\n    ToggleDrivingMode {\r\n      ok\r\n      error\r\n    }\r\n  }\r\n`;\r\n","import Menu from './MenuContainer';\r\nexport default Menu;\r\n","import React from 'react';\r\nimport { useQuery, QueryResult, useMutation } from 'react-apollo';\r\nimport { USER_PROFILE } from '../../sharedNotLocalQueries';\r\nimport { userProfile } from '../../types/api';\r\nimport MenuPresenter from './MenuPresenter';\r\nimport { TOGGLE_DRIVING } from './MenuQueries';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst MenuContainer = () => {\r\n  const {\r\n    data,\r\n    loading,\r\n  }: QueryResult<userProfile, Record<string, any>> = useQuery(USER_PROFILE);\r\n\r\n  const [toggleDrivingFn] = useMutation(TOGGLE_DRIVING, {\r\n    refetchQueries: () => [{ query: USER_PROFILE }],\r\n    update: (cache, { data: toggleData }) => {\r\n      if (data) {\r\n        const { ToggleDrivingMode } = toggleData;\r\n        if (!ToggleDrivingMode.ok) {\r\n          toast.error(ToggleDrivingMode.error);\r\n          return;\r\n        }\r\n        const query: userProfile | null = cache.readQuery({\r\n          query: USER_PROFILE,\r\n        });\r\n        if (query) {\r\n          const {\r\n            GetMyProfile: { user },\r\n          } = query;\r\n          if (user) {\r\n            user.isDriving = !user.isDriving;\r\n          }\r\n        }\r\n        cache.writeQuery({ query: USER_PROFILE, data: query });\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <MenuPresenter\r\n      data={data}\r\n      loading={loading}\r\n      toggleDrivingFn={toggleDrivingFn}\r\n    />\r\n  );\r\n};\r\n\r\nexport default MenuContainer;\r\n","import React from 'react';\r\nimport styled from '../Style/typed-components';\r\nimport Button from '../Button';\r\n\r\nconst Container = styled.div`\r\n  background-color: white;\r\n  position: absolute;\r\n  margin: auto;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  width: 80%;\r\n  height: 65%;\r\n  z-index: 9;\r\n  padding: 20px;\r\n`;\r\n\r\nconst Title = styled.h4`\r\n  font-weight: 800;\r\n  margin-top: 30px;\r\n  margin-bottom: 10px;\r\n  &:first-child {\r\n    margin-top: 0;\r\n  }\r\n`;\r\n\r\nconst Data = styled.span`\r\n  color: ${(props) => props.theme.blueColor};\r\n`;\r\n\r\nconst Img = styled.img`\r\n  border-radius: 50%;\r\n  margin-right: 20px;\r\n  width: 4em;\r\n`;\r\n\r\nconst Passenger = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\ninterface IProps {\r\n  pickUpAddress: string;\r\n  dropOffAddress: string;\r\n  price: number;\r\n  distance: string;\r\n  passengerName: string;\r\n  passengerPhoto: string;\r\n  acceptRideFn: any;\r\n  id: number;\r\n}\r\n\r\nconst RidePopUp: React.SFC<IProps> = ({\r\n  pickUpAddress,\r\n  dropOffAddress,\r\n  price,\r\n  distance,\r\n  passengerName,\r\n  passengerPhoto,\r\n  acceptRideFn,\r\n  id,\r\n}) => (\r\n  <Container>\r\n    <Title>Pick Up Address</Title>\r\n    <Data>{pickUpAddress}</Data>\r\n    <Title>Drop Off Address</Title>\r\n    <Data>{dropOffAddress}</Data>\r\n    <Title>Price</Title>\r\n    <Data>${price}</Data>\r\n    <Title>Distance</Title>\r\n    <Data>{distance}</Data>\r\n    <Title>Distance</Title>\r\n    <Data>{distance}</Data>\r\n    <Title>Passenger:</Title>\r\n    <Passenger>\r\n      <Img src={passengerPhoto} />\r\n      <Data>{passengerName}</Data>\r\n    </Passenger>\r\n    <Button\r\n      onClick={() => acceptRideFn({ variables: { rideId: id } })}\r\n      value={'Accept Ride'}\r\n    />\r\n  </Container>\r\n);\r\n\r\nexport default RidePopUp;\r\n","import RidePopUp from './RidePopUp';\r\nexport default RidePopUp;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport Sidebar from 'react-sidebar';\r\nimport styled from '../../Components/Style/typed-components';\r\nimport Menu from '../../Components/Menu';\r\nimport AddressBar from '../../Components/AddressBar';\r\nimport Button from '../../Components/Button';\r\nimport { userProfile, getRides } from '../../types/api';\r\nimport { MutationFunction } from 'react-apollo';\r\nimport RidePopUp from '../../Components/RidePopUp';\r\n\r\nconst Container = styled.div``;\r\n\r\nconst MenuButton = styled.button`\r\n  appearance: none;\r\n  padding: 10px;\r\n  position: absolute;\r\n  top: 10px;\r\n  left: 10px;\r\n  text-align: center;\r\n  font-weight: 800;\r\n  border: 0;\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n  transform: rotate(90deg);\r\n  z-index: 2;\r\n  background-color: transparent;\r\n`;\r\n\r\nconst Map = styled.div`\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n`;\r\n\r\nconst ExtendedButton = styled(Button)`\r\n  position: absolute;\r\n  bottom: 50px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  z-index: 10;\r\n  height: auto;\r\n  width: 80%;\r\n`;\r\n\r\nconst RequestButton = styled(ExtendedButton)`\r\n  bottom: 200px;\r\n`;\r\n\r\ninterface IProps {\r\n  isMenuOpen: boolean;\r\n  toggleMenu: () => void;\r\n  loading: boolean;\r\n  mapRef: any;\r\n  toAddress: string;\r\n  price?: string;\r\n  data?: userProfile;\r\n  onAddressSubmit: () => void;\r\n  onInputChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n  onKeyDown: (event: React.KeyboardEvent<HTMLInputElement>) => void;\r\n  requestRideFn?: MutationFunction;\r\n  acceptRideFn?: MutationFunction;\r\n  nearbyRide?: getRides;\r\n}\r\n\r\nconst HomePresenter: React.FC<IProps> = ({\r\n  isMenuOpen,\r\n  toggleMenu,\r\n  loading,\r\n  mapRef,\r\n  toAddress,\r\n  price,\r\n  data: { GetMyProfile: { user = null } = {} } = {},\r\n  onInputChange,\r\n  onAddressSubmit,\r\n  onKeyDown,\r\n  requestRideFn,\r\n  acceptRideFn,\r\n  nearbyRide: { GetNearbyRide: { ride = null } = {} } = {},\r\n}) => (\r\n  <Container>\r\n    <Helmet>\r\n      <title>Home | Uber</title>\r\n    </Helmet>\r\n    <Sidebar\r\n      sidebar={<Menu />}\r\n      open={isMenuOpen}\r\n      onSetOpen={toggleMenu}\r\n      styles={{\r\n        sidebar: {\r\n          backgroundColor: 'white',\r\n          width: '80%',\r\n          zIndex: '10',\r\n        },\r\n      }}>\r\n      {!loading && <MenuButton onClick={toggleMenu}>|||</MenuButton>}\r\n      {user && !user.isDriving && (\r\n        <React.Fragment>\r\n          <AddressBar\r\n            name={'toAddress'}\r\n            onChange={onInputChange}\r\n            value={toAddress}\r\n            onBlur={null}\r\n            onKeyDown={onKeyDown}\r\n          />\r\n          <ExtendedButton\r\n            onClick={onAddressSubmit}\r\n            disabled={toAddress === ''}\r\n            value={price ? 'Change address' : 'Pick Address'}\r\n          />\r\n        </React.Fragment>\r\n      )}\r\n      {price && (\r\n        <RequestButton\r\n          onClick={requestRideFn}\r\n          disabled={toAddress === ''}\r\n          value={`Request Ride ($${price})`}\r\n        />\r\n      )}\r\n      {ride && (\r\n        <RidePopUp\r\n          id={ride.id}\r\n          pickUpAddress={ride.pickUpAddress}\r\n          dropOffAddress={ride.dropOffAddress}\r\n          price={ride.price}\r\n          distance={ride.distance}\r\n          passengerName={ride.passenger.fullName!}\r\n          passengerPhoto={ride.passenger.profilePhoto!}\r\n          acceptRideFn={acceptRideFn}\r\n        />\r\n      )}\r\n      <Map ref={mapRef} />\r\n    </Sidebar>\r\n  </Container>\r\n);\r\n\r\nexport default HomePresenter;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const REPORT_LOCATION = gql`\r\n  mutation reportMovement($lat: Float!, $lng: Float!) {\r\n    ReportMovement(lastLat: $lat, lastLng: $lng) {\r\n      ok\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_NEARBY_DRIVERS = gql`\r\n  query getDrivers {\r\n    GetNearbyDrivers {\r\n      ok\r\n      drivers {\r\n        id\r\n        lastLat\r\n        lastLng\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const REQUEST_RIDE = gql`\r\n  mutation requestRide(\r\n    $pickUpAddress: String!\r\n    $pickUpLat: Float!\r\n    $pickUpLng: Float!\r\n    $dropOffAddress: String!\r\n    $dropOffLat: Float!\r\n    $dropOffLng: Float!\r\n    $price: Float!\r\n    $distance: String!\r\n    $duration: String!\r\n  ) {\r\n    RequestRide(\r\n      pickUpAddress: $pickUpAddress\r\n      pickUpLat: $pickUpLat\r\n      pickUpLng: $pickUpLng\r\n      dropOffAddress: $dropOffAddress\r\n      dropOffLat: $dropOffLat\r\n      dropOffLng: $dropOffLng\r\n      price: $price\r\n      distance: $distance\r\n      duration: $duration\r\n    ) {\r\n      ok\r\n      error\r\n      ride {\r\n        id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_NEARBY_RIDE = gql`\r\n  query getRides {\r\n    GetNearbyRide {\r\n      ok\r\n      error\r\n      ride {\r\n        id\r\n        pickUpAddress\r\n        dropOffAddress\r\n        price\r\n        distance\r\n        passenger {\r\n          fullName\r\n          profilePhoto\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ACCEPT_RIDE = gql`\r\n  mutation acceptRide($rideId: Int!) {\r\n    UpdateRideStatus(rideId: $rideId, status: ACCEPTED) {\r\n      ok\r\n      error\r\n      rideId\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SUBSCRIBE_NEARBY_RIDES = gql`\r\n  subscription nearbyRides {\r\n    NearbyRideSubscription {\r\n      id\r\n      pickUpAddress\r\n      dropOffAddress\r\n      price\r\n      distance\r\n      passenger {\r\n        fullName\r\n        profilePhoto\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { graphql, Query, MutationFunction, Mutation } from 'react-apollo';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { USER_PROFILE } from '../../sharedNotLocalQueries';\r\nimport HomePresenter from './HomePresenter';\r\nimport { geoCode, reverseGeoCode } from '../../Utils/mapHelpers';\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n  reportMovement,\r\n  reportMovementVariables,\r\n  getDrivers,\r\n  userProfile,\r\n  requestRide,\r\n  acceptRide,\r\n} from '../../types/api';\r\nimport {\r\n  REPORT_LOCATION,\r\n  GET_NEARBY_DRIVERS,\r\n  REQUEST_RIDE,\r\n  GET_NEARBY_RIDE,\r\n  ACCEPT_RIDE,\r\n  SUBSCRIBE_NEARBY_RIDES,\r\n} from './HomeQueries';\r\nimport { SubscribeToMoreOptions } from 'apollo-client';\r\nimport routes from '../../config/routes';\r\n\r\ninterface IState {\r\n  isMenuOpen: boolean;\r\n  lat: number;\r\n  lng: number;\r\n  toAddress: string;\r\n  toLat: number;\r\n  toLng: number;\r\n  distance: string;\r\n  duration?: string;\r\n  price?: string;\r\n  fromAddress: string;\r\n  isDriving: boolean;\r\n}\r\n\r\ninterface IProps extends RouteComponentProps<any> {\r\n  google: any;\r\n  reportLocation: MutationFunction;\r\n}\r\n\r\nclass HomeContainer extends React.Component<IProps, IState> {\r\n  mapRef: any;\r\n  map: google.maps.Map;\r\n  userMarker: google.maps.Marker;\r\n  toMarker: google.maps.Marker;\r\n  directions: google.maps.DirectionsRenderer;\r\n  drivers: google.maps.Marker[];\r\n\r\n  state = {\r\n    distance: '',\r\n    duration: undefined,\r\n    fromAddress: '',\r\n    isMenuOpen: false,\r\n    isDriving: true,\r\n    lat: 0,\r\n    lng: 0,\r\n    price: '',\r\n    toAddress: '',\r\n    toLat: 0,\r\n    toLng: 0,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    if (props.location.state) {\r\n      this.state.toAddress = props.location.state.requestAddress;\r\n    }\r\n    this.mapRef = React.createRef();\r\n    this.drivers = [];\r\n  }\r\n\r\n  componentDidMount() {\r\n    navigator.geolocation.getCurrentPosition(\r\n      this.handleGeoSucces,\r\n      this.handleGeoError\r\n    );\r\n  }\r\n\r\n  private toggleMenu = () => {\r\n    this.setState((state) => {\r\n      return {\r\n        isMenuOpen: !state.isMenuOpen,\r\n      };\r\n    });\r\n  };\r\n\r\n  private handleGeoSucces = (positon: Position) => {\r\n    const {\r\n      coords: { latitude, longitude },\r\n    } = positon;\r\n    this.setState({\r\n      lat: latitude,\r\n      lng: longitude,\r\n    });\r\n    this.getFromAdress(latitude, longitude);\r\n    this.loadMap(latitude, longitude);\r\n  };\r\n\r\n  private getFromAdress = async (lat: number, lng: number) => {\r\n    const address = await reverseGeoCode(lat, lng);\r\n    if (address) {\r\n      this.setState({\r\n        fromAddress: address,\r\n      });\r\n    }\r\n  };\r\n\r\n  private loadMap = (lat, lng) => {\r\n    const { google } = this.props;\r\n    const maps = google.maps;\r\n    // console.log('mapRef:', this.mapRef);\r\n    const mapNode = ReactDOM.findDOMNode(this.mapRef.current);\r\n    const mapConfig: google.maps.MapOptions = {\r\n      center: {\r\n        lat,\r\n        lng,\r\n      },\r\n      disableDefaultUI: true,\r\n      // minZoom: 9,\r\n      maxZoom: 20,\r\n      zoom: 12,\r\n    };\r\n\r\n    this.map = new maps.Map(mapNode, mapConfig);\r\n\r\n    const userMarkerOptions: google.maps.MarkerOptions = {\r\n      icon: {\r\n        path: maps.SymbolPath.CIRCLE,\r\n        scale: 7,\r\n      },\r\n      position: {\r\n        lat,\r\n        lng,\r\n      },\r\n    };\r\n\r\n    this.userMarker = new maps.Marker(userMarkerOptions);\r\n    this.userMarker.setMap(this.map);\r\n\r\n    const watchOptions: PositionOptions = {\r\n      enableHighAccuracy: true,\r\n    };\r\n\r\n    navigator.geolocation.watchPosition(\r\n      this.handleGeoWatchSuccess,\r\n      this.handleGeoWatchError,\r\n      watchOptions\r\n    );\r\n  };\r\n\r\n  private handleGeoWatchSuccess = (position: Position) => {\r\n    // console.log(position);\r\n    const { reportLocation } = this.props;\r\n    const {\r\n      coords: { latitude, longitude },\r\n    } = position;\r\n    this.userMarker.setPosition({ lat: latitude, lng: longitude });\r\n    this.map.panTo({ lat: latitude, lng: longitude });\r\n    reportLocation({\r\n      variables: {\r\n        lat: parseFloat(latitude.toFixed(10)),\r\n        lng: parseFloat(longitude.toFixed(10)),\r\n      },\r\n    });\r\n  };\r\n\r\n  private handleGeoWatchError = () => {\r\n    console.log('Error watching you');\r\n  };\r\n\r\n  private handleGeoError = () => {\r\n    console.log('No location');\r\n  };\r\n\r\n  private onInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const {\r\n      target: { name, value },\r\n    } = event;\r\n    this.setState({\r\n      [name]: value,\r\n    } as any);\r\n  };\r\n\r\n  private onAddressSubmit = async () => {\r\n    const { toAddress } = this.state;\r\n    const { google } = this.props;\r\n    const maps = google.maps;\r\n    const result = await geoCode(toAddress);\r\n    if (result !== false) {\r\n      const { lat, lng, formatted_address: formatedAddress } = result;\r\n      if (this.toMarker) {\r\n        this.toMarker.setMap(null);\r\n      }\r\n      const toMarkerOptions: google.maps.MarkerOptions = {\r\n        position: {\r\n          lat,\r\n          lng,\r\n        },\r\n      };\r\n      this.toMarker = new maps.Marker(toMarkerOptions);\r\n      this.toMarker.setMap(this.map);\r\n      const bounds = new maps.LatLngBounds();\r\n      bounds.extend({ lat, lng });\r\n      bounds.extend({ lat: this.state.lat, lng: this.state.lng });\r\n      this.map.fitBounds(bounds);\r\n      this.setState(\r\n        {\r\n          toAddress: formatedAddress,\r\n          toLat: lat,\r\n          toLng: lng,\r\n        },\r\n        this.createPath\r\n      );\r\n    }\r\n  };\r\n\r\n  private onKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (event.key === 'Enter') {\r\n      this.onAddressSubmit();\r\n    }\r\n  };\r\n\r\n  private createPath = () => {\r\n    const { toLat, toLng, lat, lng } = this.state;\r\n    if (this.directions) {\r\n      this.directions.setMap(null);\r\n    }\r\n    const renderOptions: google.maps.DirectionsRendererOptions = {\r\n      polylineOptions: {\r\n        strokeColor: '#000',\r\n      },\r\n      suppressMarkers: true,\r\n    };\r\n    this.directions = new google.maps.DirectionsRenderer(renderOptions);\r\n    const directionsService: google.maps.DirectionsService = new google.maps.DirectionsService();\r\n    const to = new google.maps.LatLng(toLat, toLng);\r\n    const from = new google.maps.LatLng(lat, lng);\r\n    const directionsOptions: google.maps.DirectionsRequest = {\r\n      destination: to,\r\n      origin: from,\r\n      travelMode: google.maps.TravelMode.DRIVING,\r\n    };\r\n    directionsService.route(directionsOptions, this.handleRouteRequest);\r\n  };\r\n\r\n  private handleRouteRequest = (\r\n    result: google.maps.DirectionsResult,\r\n    status: google.maps.DirectionsStatus\r\n  ) => {\r\n    if (status === google.maps.DirectionsStatus.OK) {\r\n      const { routes } = result;\r\n      const {\r\n        distance: { text: distance },\r\n        duration: { text: duration },\r\n      } = routes[0].legs[0];\r\n      this.directions.setDirections(result);\r\n      this.directions.setMap(this.map);\r\n      this.setState(\r\n        {\r\n          distance,\r\n          duration,\r\n        },\r\n        this.setPrice\r\n      );\r\n    } else {\r\n      toast.error('There is no route there, you have to take an airplane!');\r\n    }\r\n  };\r\n\r\n  private setPrice = () => {\r\n    const { distance } = this.state;\r\n    if (distance) {\r\n      this.setState({\r\n        price: Number(parseFloat(distance.replace(',', ''))).toFixed(2),\r\n      });\r\n    }\r\n  };\r\n\r\n  private handleNearByDrivers = (data: {} | getDrivers) => {\r\n    if (!data) {\r\n      return;\r\n    }\r\n    if ('GetNearbyDrivers' in data) {\r\n      const {\r\n        GetNearbyDrivers: { drivers, ok },\r\n      } = data;\r\n      if (ok && drivers) {\r\n        for (const driver of drivers) {\r\n          if (driver) {\r\n            // console.log('driver:', driver);\r\n            const exisitingDriver:\r\n              | google.maps.Marker\r\n              | undefined = this.drivers.find(\r\n              (driverMarker: google.maps.Marker) => {\r\n                const markerID = driverMarker.get('ID');\r\n                return markerID === driver.id;\r\n              }\r\n            );\r\n            if (exisitingDriver) {\r\n              exisitingDriver.setPosition({\r\n                lat: driver.lastLat,\r\n                lng: driver.lastLng,\r\n              });\r\n              exisitingDriver.setMap(this.map);\r\n            } else {\r\n              const markerOptions: google.maps.MarkerOptions = {\r\n                position: {\r\n                  lat: driver.lastLat,\r\n                  lng: driver.lastLng,\r\n                },\r\n                icon: {\r\n                  path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,\r\n                  scale: 5,\r\n                },\r\n              };\r\n              const newMarker: google.maps.Marker = new google.maps.Marker(\r\n                markerOptions\r\n              );\r\n              this.drivers.push(newMarker);\r\n              newMarker.set('ID', driver.id); // to check specific driver above\r\n              newMarker.setMap(this.map);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  private handleRideRequest = (data: requestRide) => {\r\n    const { history } = this.props;\r\n    const { RequestRide } = data;\r\n    if (RequestRide.ok) {\r\n      toast.success('Drive requested, finding a driver');\r\n      history.push(`${routes.ride}/${RequestRide.ride!.id}`);\r\n    } else {\r\n      toast.error(RequestRide.error);\r\n    }\r\n  };\r\n\r\n  private handleProfileQuery = (data: userProfile) => {\r\n    const { GetMyProfile } = data;\r\n    if (GetMyProfile.user) {\r\n      const {\r\n        user: { isDriving },\r\n      } = GetMyProfile;\r\n      this.setState({\r\n        isDriving,\r\n      });\r\n    }\r\n  };\r\n\r\n  private handleRideAcceptance = (data: acceptRide) => {\r\n    const { history } = this.props;\r\n    const { UpdateRideStatus } = data;\r\n    if (UpdateRideStatus.ok) {\r\n      history.push(`${routes.ride}/${UpdateRideStatus.rideId}`);\r\n    }\r\n  };\r\n\r\n  public render() {\r\n    const {\r\n      isMenuOpen,\r\n      toAddress,\r\n      price,\r\n      distance,\r\n      fromAddress,\r\n      lat,\r\n      lng,\r\n      toLat,\r\n      toLng,\r\n      duration,\r\n      isDriving,\r\n    } = this.state;\r\n\r\n    return (\r\n      <Query query={USER_PROFILE} onCompleted={this.handleProfileQuery}>\r\n        {({ loading, data }) => (\r\n          <Query\r\n            query={GET_NEARBY_DRIVERS}\r\n            pollInterval={5000}\r\n            fetchPolicy='cache-and-network'\r\n            skip={isDriving}\r\n            onCompleted={this.handleNearByDrivers}>\r\n            {() => (\r\n              <Mutation\r\n                mutation={REQUEST_RIDE}\r\n                onCompleted={this.handleRideRequest}\r\n                variables={{\r\n                  distance,\r\n                  dropOffAddress: toAddress,\r\n                  dropOffLat: toLat,\r\n                  dropOffLng: toLng,\r\n                  duration: duration || '',\r\n                  pickUpAddress: fromAddress,\r\n                  pickUpLat: lat,\r\n                  pickUpLng: lng,\r\n                  price: parseFloat(price) || 0,\r\n                }}>\r\n                {(requestRideFn) => (\r\n                  <Query query={GET_NEARBY_RIDE} skip={!isDriving}>\r\n                    {({ subscribeToMore, data: nearbyRide }) => {\r\n                      const rideSubscriptionOptions: SubscribeToMoreOptions = {\r\n                        document: SUBSCRIBE_NEARBY_RIDES,\r\n                        updateQuery: (prev, { subscriptionData }) => {\r\n                          // console.log(prev, subscriptionData);\r\n                          if (!subscriptionData.data) {\r\n                            return prev;\r\n                          }\r\n                          const newObject = Object.assign({}, prev, {\r\n                            GetNearbyRide: {\r\n                              ...prev.GetNearbyRide,\r\n                              ride:\r\n                                subscriptionData.data.NearbyRideSubscription,\r\n                            },\r\n                          });\r\n                          return newObject;\r\n                        },\r\n                      };\r\n                      if (isDriving) {\r\n                        subscribeToMore(rideSubscriptionOptions);\r\n                      }\r\n                      return (\r\n                        <Mutation\r\n                          mutation={ACCEPT_RIDE}\r\n                          onCompleted={this.handleRideAcceptance}>\r\n                          {(acceptRideFn) => (\r\n                            <HomePresenter\r\n                              loading={loading}\r\n                              isMenuOpen={isMenuOpen}\r\n                              toggleMenu={this.toggleMenu}\r\n                              mapRef={this.mapRef}\r\n                              toAddress={toAddress}\r\n                              price={price}\r\n                              data={data}\r\n                              onInputChange={this.onInputChange}\r\n                              onAddressSubmit={this.onAddressSubmit}\r\n                              onKeyDown={this.onKeyDown}\r\n                              requestRideFn={requestRideFn}\r\n                              nearbyRide={nearbyRide}\r\n                              acceptRideFn={acceptRideFn}\r\n                            />\r\n                          )}\r\n                        </Mutation>\r\n                      );\r\n                    }}\r\n                  </Query>\r\n                )}\r\n              </Mutation>\r\n            )}\r\n          </Query>\r\n        )}\r\n      </Query>\r\n    );\r\n  }\r\n}\r\n\r\nexport default graphql<any, reportMovement, reportMovementVariables>(\r\n  REPORT_LOCATION,\r\n  {\r\n    name: 'reportLocation',\r\n  }\r\n)(HomeContainer);\r\n","import { GoogleApiWrapper } from 'google-maps-react';\r\nimport HomeContainer from './HomeContainer';\r\nimport config from '../../config';\r\nexport default GoogleApiWrapper({\r\n  apiKey: config.GOOGLE.KEY,\r\n})(HomeContainer);\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport { Link, RouteComponentProps } from 'react-router-dom';\r\nimport bgImage from '../../images/bg.png';\r\nimport styled from '../../Components/Style/typed-components';\r\nimport routes from '../../config/routes';\r\n\r\nconst Container = styled.div`\r\n  height: 100vh;\r\n`;\r\n\r\nconst Header = styled.header`\r\n  height: 70%;\r\n  background: linear-gradient(rgba(0, 153, 196, 0.5), rgba(0, 153, 196, 0.4)),\r\n    url(${bgImage});\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Logo = styled.div`\r\n  width: 110px;\r\n  height: 110px;\r\n  background-color: white;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 -14px 28px rgba(0, 0, 0, 0.22);\r\n  text-transform: uppercase;\r\n  font-weight: 500;\r\n  font-size: 25px;\r\n`;\r\n\r\nconst Title = styled.h1``;\r\n\r\nconst Footer = styled.div``;\r\n\r\nconst Subtitle = styled.h2`\r\n  font-size: 30px;\r\n`;\r\n\r\nconst FakeInput = styled.div`\r\n  margin: 50px 0px;\r\n  font-size: 25px;\r\n  font-weight: 300;\r\n`;\r\n\r\nconst PhoneLogin = styled.div`\r\n  padding: 20px;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Grey = styled.span`\r\n  color: ${(props) => props.theme.greyColor};\r\n  margin-left: 10px;\r\n`;\r\n\r\nconst LoginWay = styled.div`\r\n  border-top: 1px solid ${(props) => props.theme.greyColor};\r\n  padding: 30px 20px;\r\n`;\r\n\r\nconst LoginLink = styled.span`\r\n  color: ${(props) => props.theme.blueColor};\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n`;\r\n\r\ninterface IProps extends RouteComponentProps<any> {}\r\n\r\nconst OutHomePresenter: React.SFC<IProps> = () => (\r\n  <Container>\r\n    <Helmet>\r\n      <title>Login | Nuber</title>\r\n    </Helmet>\r\n    <Header>\r\n      <Logo>\r\n        <Title>Nuber</Title>\r\n      </Logo>\r\n    </Header>\r\n    <Footer>\r\n      <Link to={routes.phoneLogin}>\r\n        <PhoneLogin>\r\n          <Subtitle>Get moving with Nuber</Subtitle>\r\n          <FakeInput>\r\n            <span aria-label='Canada' role='img'>\r\n              🇨🇦\r\n            </span>{' '}\r\n            +1 <Grey>Enter your mobile number</Grey>\r\n          </FakeInput>\r\n        </PhoneLogin>\r\n      </Link>\r\n      <LoginWay>\r\n        <Link to={routes.socialLogin}>\r\n          <LoginLink>Or connect with social</LoginLink>\r\n        </Link>{' '}\r\n        <Link to={routes.emailSignIn}>\r\n          <LoginLink>Or connect with email</LoginLink>\r\n        </Link>\r\n      </LoginWay>\r\n    </Footer>\r\n  </Container>\r\n);\r\n\r\nexport default OutHomePresenter;\r\n","import Login from './LoginPresenter';\r\n\r\nexport default Login;\r\n","const countries = [\r\n  { name: 'Canada', dial_code: '+1', code: 'CA', flag: '🇨🇦' },\r\n  { name: 'United States', dial_code: '+1', code: 'US', flag: '🇺🇸' },\r\n  { name: 'Afghanistan', dial_code: '+93', code: 'AF', flag: '🇦🇫' },\r\n  { name: 'Åland Islands', dial_code: '+358', code: 'AX', flag: '🇦🇽' },\r\n  { name: 'Albania', dial_code: '+355', code: 'AL', flag: '🇦🇱' },\r\n  { name: 'Algeria', dial_code: '+213', code: 'DZ', flag: '🇩🇿' },\r\n  {\r\n    name: 'American Samoa',\r\n    flag: '🇺🇸',\r\n    dial_code: '+1684',\r\n    code: 'AS',\r\n  },\r\n  { name: 'Andorra', dial_code: '+376', code: 'AD', flag: '🇦🇩' },\r\n  { name: 'Angola', dial_code: '+244', code: 'AO', flag: '🇦🇴' },\r\n  { name: 'Anguilla', dial_code: '+1264', code: 'AI', flag: '🇦🇮' },\r\n  { name: 'Antarctica', dial_code: '+672', code: 'AQ', flag: '🇦🇶' },\r\n  {\r\n    name: 'Antigua and Barbuda',\r\n    dial_code: '+1268',\r\n    code: 'AG',\r\n    flag: '🇦🇬',\r\n  },\r\n  { name: 'Argentina', dial_code: '+54', code: 'AR', flag: '🇦🇷' },\r\n  { name: 'Armenia', dial_code: '+374', code: 'AM', flag: '🇦🇲' },\r\n  { name: 'Aruba', dial_code: '+297', code: 'AW', flag: '🇦🇼' },\r\n  { name: 'Australia', dial_code: '+61', code: 'AU', flag: '🇦🇺' },\r\n  { name: 'Austria', dial_code: '+43', code: 'AT', flag: '🇦🇹' },\r\n  { name: 'Azerbaijan', dial_code: '+994', code: 'AZ', flag: '🇦🇿' },\r\n  { name: 'Bahamas', dial_code: '+1242', code: 'BS', flag: '🇧🇸' },\r\n  { name: 'Bahrain', dial_code: '+973', code: 'BH', flag: '🇧🇸' },\r\n  { name: 'Bangladesh', dial_code: '+880', code: 'BD', flag: '🇧🇩' },\r\n  { name: 'Barbados', dial_code: '+1246', code: 'BB', flag: '🇧🇧' },\r\n  { name: 'Belarus', dial_code: '+375', code: 'BY', flag: '🇧🇾' },\r\n  { name: 'Belgium', dial_code: '+32', code: 'BE', flag: '🇧🇪' },\r\n  { name: 'Belize', dial_code: '+501', code: 'BZ', flag: '🇧🇿' },\r\n  { name: 'Benin', dial_code: '+229', code: 'BJ', flag: '🇧🇯' },\r\n  { name: 'Bermuda', dial_code: '+1441', code: 'BM', flag: '🇧🇲' },\r\n  { name: 'Bhutan', dial_code: '+975', code: 'BT', flag: '🇧🇹' },\r\n  {\r\n    name: 'Bolivia, Plurinational State of bolivia',\r\n    dial_code: '+591',\r\n    code: 'BO',\r\n    flag: '🇧🇴',\r\n  },\r\n  {\r\n    name: 'Bosnia and Herzegovina',\r\n    dial_code: '+387',\r\n    code: 'BA',\r\n    flag: '🇧🇦',\r\n  },\r\n  { name: 'Botswana', dial_code: '+267', code: 'BW', flag: '🇧🇼' },\r\n  { name: 'Bouvet Island', dial_code: '+47', code: 'BV', flag: '🏳' },\r\n  { name: 'Brazil', dial_code: '+55', code: 'BR', flag: '🇧🇷' },\r\n  {\r\n    name: 'British Indian Ocean Territory',\r\n    dial_code: '+246',\r\n    code: 'IO',\r\n    flag: '🇮🇴',\r\n  },\r\n  {\r\n    name: 'Brunei Darussalam',\r\n    dial_code: '+673',\r\n    code: 'BN',\r\n    flag: '🇧🇳',\r\n  },\r\n  { name: 'Bulgaria', dial_code: '+359', code: 'BG', flag: '🇧🇬' },\r\n  { name: 'Burkina Faso', dial_code: '+226', code: 'BF', flag: '🇧🇫' },\r\n  { name: 'Burundi', dial_code: '+257', code: 'BI', flag: '🇧🇮' },\r\n  { name: 'Cambodia', dial_code: '+855', code: 'KH', flag: '🇰🇭' },\r\n  { name: 'Cameroon', dial_code: '+237', code: 'CM', flag: '🇨🇲' },\r\n  { name: 'Canada', dial_code: '+1', code: 'CA', flag: '🇨🇦' },\r\n  { name: 'Cape Verde', dial_code: '+238', code: 'CV', flag: '🇨🇻' },\r\n  {\r\n    name: 'Cayman Islands',\r\n    dial_code: '+ 345',\r\n    code: 'KY',\r\n    flag: '🇰🇾',\r\n  },\r\n  {\r\n    name: 'Central African Republic',\r\n    dial_code: '+236',\r\n    code: 'CF',\r\n    flag: '🇨🇫',\r\n  },\r\n  { name: 'Chad', dial_code: '+235', code: 'TD', flag: '🇹🇩' },\r\n  { name: 'Chile', dial_code: '+56', code: 'CL', flag: '🇨🇱' },\r\n  { name: 'China', dial_code: '+86', code: 'CN', flag: '🇨🇳' },\r\n  {\r\n    name: 'Christmas Island',\r\n    dial_code: '+61',\r\n    code: 'CX',\r\n    flag: '🇨🇽',\r\n  },\r\n  {\r\n    name: 'Cocos (Keeling) Islands',\r\n    dial_code: '+61',\r\n    code: 'CC',\r\n    flag: '🇨🇨',\r\n  },\r\n  { name: 'Colombia', dial_code: '+57', code: 'CO', flag: '' },\r\n  { name: 'Comoros', dial_code: '+269', code: 'KM', flag: '🇰🇲' },\r\n  { name: 'Congo', dial_code: '+242', code: 'CG', flag: '🇨🇬' },\r\n  {\r\n    name: 'Congo, The Democratic Republic of the Congo',\r\n    dial_code: '+243',\r\n    code: 'CD',\r\n    flag: '🇨🇩',\r\n  },\r\n  { name: 'Cook Islands', dial_code: '+682', code: 'CK', flag: '🇨🇰' },\r\n  { name: 'Costa Rica', dial_code: '+506', code: 'CR', flag: '🇨🇷' },\r\n  { name: \"Cote d'Ivoire\", dial_code: '+225', code: 'CI', flag: '🇨🇮' },\r\n  { name: 'Croatia', dial_code: '+385', code: 'HR', flag: '🇭🇷' },\r\n  { name: 'Cuba', dial_code: '+53', code: 'CU', flag: '🇨🇺' },\r\n  { name: 'Cyprus', dial_code: '+357', code: 'CY', flag: '🇨🇾' },\r\n  { name: 'Czech Republic', dial_code: '+420', code: 'CZ', flag: '🇨🇿' },\r\n  { name: 'Denmark', dial_code: '+45', code: 'DK', flag: '🇩🇰' },\r\n  { name: 'Djibouti', dial_code: '+253', code: 'DJ', flag: '🇩🇯' },\r\n  { name: 'Dominica', dial_code: '+1767', code: 'DM', flag: '🇩🇲' },\r\n  {\r\n    name: 'Dominican Republic',\r\n    dial_code: '+1849',\r\n    code: 'DO',\r\n    flag: '🇨🇩',\r\n  },\r\n  { name: 'Ecuador', dial_code: '+593', code: 'EC', flag: '🇪🇨' },\r\n  { name: 'Egypt', dial_code: '+20', code: 'EG', flag: '🇪🇬' },\r\n  { name: 'El Salvador', dial_code: '+503', code: 'SV', flag: '🇸🇻' },\r\n  {\r\n    name: 'Equatorial Guinea',\r\n    dial_code: '+240',\r\n    code: 'GQ',\r\n    flag: '🇬🇶',\r\n  },\r\n  { name: 'Eritrea', dial_code: '+291', code: 'ER', flag: '🇪🇷' },\r\n  { name: 'Estonia', dial_code: '+372', code: 'EE', flag: '🇪🇪' },\r\n  { name: 'Ethiopia', dial_code: '+251', code: 'ET', flag: '🇪🇹' },\r\n  {\r\n    name: 'Falkland Islands (Malvinas)',\r\n    dial_code: '+500',\r\n    code: 'FK',\r\n    flag: '🇫🇰',\r\n  },\r\n  { name: 'Faroe Islands', dial_code: '+298', code: 'FO', flag: '' },\r\n  { name: 'Fiji', dial_code: '+679', code: 'FJ', flag: '🇫🇯' },\r\n  { name: 'Finland', dial_code: '+358', code: 'FI', flag: '🇫🇮' },\r\n  { name: 'France', dial_code: '+33', code: 'FR', flag: '🇫🇷' },\r\n  { name: 'French Guiana', dial_code: '+594', code: 'GF', flag: '🇬🇫' },\r\n  {\r\n    name: 'French Polynesia',\r\n    dial_code: '+689',\r\n    code: 'PF',\r\n    flag: '🇵🇫',\r\n  },\r\n  {\r\n    name: 'French Southern Territories',\r\n    dial_code: '+262',\r\n    code: 'TF',\r\n    flag: '🇹🇫',\r\n  },\r\n  { name: 'Gabon', dial_code: '+241', code: 'GA', flag: '🇬🇦' },\r\n  { name: 'Gambia', dial_code: '+220', code: 'GM', flag: '🇬🇲' },\r\n  { name: 'Georgia', dial_code: '+995', code: 'GE', flag: '🇬🇪' },\r\n  { name: 'Germany', dial_code: '+49', code: 'DE', flag: '🇩🇪' },\r\n  { name: 'Ghana', dial_code: '+233', code: 'GH', flag: '🇬🇭' },\r\n  { name: 'Gibraltar', dial_code: '+350', code: 'GI', flag: '🇬🇮' },\r\n  { name: 'Greece', dial_code: '+30', code: 'GR', flag: '🇬🇷' },\r\n  { name: 'Greenland', dial_code: '+299', code: 'GL', flag: '🇬🇱' },\r\n  { name: 'Grenada', dial_code: '+1473', code: 'GD', flag: '🇬🇩' },\r\n  { name: 'Guadeloupe', dial_code: '+590', code: 'GP', flag: '🇬🇵' },\r\n  { name: 'Guam', dial_code: '+1671', code: 'GU', flag: '🇬🇺' },\r\n  { name: 'Guatemala', dial_code: '+502', code: 'GT', flag: '🇬🇹' },\r\n  { name: 'Guernsey', dial_code: '+44', code: 'GG', flag: '🇬🇬' },\r\n  { name: 'Guinea', dial_code: '+224', code: 'GN', flag: '🇬🇳' },\r\n  { name: 'Guinea-Bissau', dial_code: '+245', code: 'GW', flag: '🇬🇼' },\r\n  { name: 'Guyana', dial_code: '+592', code: 'GY', flag: '🇬🇾' },\r\n  { name: 'Haiti', dial_code: '+509', code: 'HT', flag: '🇭🇹' },\r\n  {\r\n    name: 'Heard Island and Mcdonald Islands',\r\n    dial_code: '+0',\r\n    code: 'HM',\r\n    flag: '🏳',\r\n  },\r\n  {\r\n    name: 'Holy See (Vatican City State)',\r\n    dial_code: '+379',\r\n    code: 'VA',\r\n    flag: '🇻🇦',\r\n  },\r\n  { name: 'Honduras', dial_code: '+504', code: 'HN', flag: '🇭🇳' },\r\n  { name: 'Hong Kong', dial_code: '+852', code: 'HK', flag: '🇭🇰' },\r\n  { name: 'Hungary', dial_code: '+36', code: 'HU', flag: '🇭🇺' },\r\n  { name: 'Iceland', dial_code: '+354', code: 'IS', flag: '🇮🇸' },\r\n  { name: 'India', dial_code: '+91', code: 'IN', flag: '🇮🇳' },\r\n  { name: 'Indonesia', dial_code: '+62', code: 'ID', flag: '🇮🇩' },\r\n  {\r\n    name: 'Iran, Islamic Republic of Persian Gulf',\r\n    dial_code: '+98',\r\n    code: 'IR',\r\n    flag: '🇮🇷',\r\n  },\r\n  { name: 'Iraq', dial_code: '+964', code: 'IQ', flag: '🇮🇶' },\r\n  { name: 'Ireland', dial_code: '+353', code: 'IE', flag: '🇮🇪' },\r\n  { name: 'Isle of Man', dial_code: '+44', code: 'IM', flag: '🇮🇲' },\r\n  { name: 'Israel', dial_code: '+972', code: 'IL', flag: '🇮🇱' },\r\n  { name: 'Italy', dial_code: '+39', code: 'IT', flag: '🇮🇹' },\r\n  { name: 'Jamaica', dial_code: '+1876', code: 'JM', flag: '🇯🇲' },\r\n  { name: 'Japan', dial_code: '+81', code: 'JP', flag: '🇯🇵' },\r\n  { name: 'Jersey', dial_code: '+44', code: 'JE', flag: '🇯🇪' },\r\n  { name: 'Jordan', dial_code: '+962', code: 'JO', flag: '🇯🇴' },\r\n  { name: 'Kazakhstan', dial_code: '+7', code: 'KZ', flag: '🇰🇿' },\r\n  { name: 'Kenya', dial_code: '+254', code: 'KE', flag: '🇰🇪' },\r\n  { name: 'Kiribati', dial_code: '+686', code: 'KI', flag: '🇰🇮' },\r\n  {\r\n    name: \"Korea, Democratic People's Republic of Korea\",\r\n    dial_code: '+850',\r\n    code: 'KP',\r\n    flag: '🇰🇵',\r\n  },\r\n  {\r\n    name: 'Korea, Republic of South Korea',\r\n    dial_code: '+82',\r\n    code: 'KR',\r\n    flag: '🇰🇷',\r\n  },\r\n  { name: 'Kosovo', dial_code: '+383', code: 'XK', flag: '🇽🇰' },\r\n  { name: 'Kuwait', dial_code: '+965', code: 'KW', flag: '🇰🇼' },\r\n  { name: 'Kyrgyzstan', dial_code: '+996', code: 'KG', flag: '🇰🇬' },\r\n  { name: 'Laos', dial_code: '+856', code: 'LA', flag: '🇱🇦' },\r\n  { name: 'Latvia', dial_code: '+371', code: 'LV', flag: '🇱🇻' },\r\n  { name: 'Lebanon', dial_code: '+961', code: 'LB', flag: '🇱🇧' },\r\n  { name: 'Lesotho', dial_code: '+266', code: 'LS', flag: '🇱🇸' },\r\n  { name: 'Liberia', dial_code: '+231', code: 'LR', flag: '🇱🇷' },\r\n  {\r\n    name: 'Libyan Arab Jamahiriya',\r\n    dial_code: '+218',\r\n    code: 'LY',\r\n    flag: '🇱🇾',\r\n  },\r\n  { name: 'Liechtenstein', dial_code: '+423', code: 'LI', flag: '🇱🇮' },\r\n  { name: 'Lithuania', dial_code: '+370', code: 'LT', flag: '🇱🇹' },\r\n  { name: 'Luxembourg', dial_code: '+352', code: 'LU', flag: '🇱🇺' },\r\n  { name: 'Macao', dial_code: '+853', code: 'MO', flag: '🇲🇴' },\r\n  { name: 'Macedonia', dial_code: '+389', code: 'MK', flag: '🇲🇰' },\r\n  { name: 'Madagascar', dial_code: '+261', code: 'MG', flag: '🇲🇬' },\r\n  { name: 'Malawi', dial_code: '+265', code: 'MW', flag: '🇲🇼' },\r\n  { name: 'Malaysia', dial_code: '+60', code: 'MY', flag: '🇲🇾' },\r\n  { name: 'Maldives', dial_code: '+960', code: 'MV', flag: '🇲🇻' },\r\n  { name: 'Mali', dial_code: '+223', code: 'ML', flag: '🇲🇱' },\r\n  { name: 'Malta', dial_code: '+356', code: 'MT', flag: '🇲🇹' },\r\n  {\r\n    name: 'Marshall Islands',\r\n    dial_code: '+692',\r\n    code: 'MH',\r\n    flag: '🇲🇭',\r\n  },\r\n  { name: 'Martinique', dial_code: '+596', code: 'MQ', flag: '🇲🇶' },\r\n  { name: 'Mauritania', dial_code: '+222', code: 'MR', flag: '🇲🇷' },\r\n  { name: 'Mauritius', dial_code: '+230', code: 'MU', flag: '🇲🇺' },\r\n  { name: 'Mayotte', dial_code: '+262', code: 'YT', flag: '🇾🇹' },\r\n  { name: 'Mexico', dial_code: '+52', code: 'MX', flag: '🇲🇽' },\r\n  {\r\n    name: 'Micronesia, Federated States of Micronesia',\r\n    dial_code: '+691',\r\n    code: 'FM',\r\n    flag: '🇫🇲',\r\n  },\r\n  { name: 'Moldova', dial_code: '+373', code: 'MD', flag: '🇲🇩' },\r\n  { name: 'Monaco', dial_code: '+377', code: 'MC', flag: '🇲🇨' },\r\n  { name: 'Mongolia', dial_code: '+976', code: 'MN', flag: '🇲🇳' },\r\n  { name: 'Montenegro', dial_code: '+382', code: 'ME', flag: '🇲🇪' },\r\n  { name: 'Montserrat', dial_code: '+1664', code: 'MS', flag: '🇲🇸' },\r\n  { name: 'Morocco', dial_code: '+212', code: 'MA', flag: '🇲🇦' },\r\n  { name: 'Mozambique', dial_code: '+258', code: 'MZ', flag: '🇲🇿' },\r\n  { name: 'Myanmar', dial_code: '+95', code: 'MM', flag: '🇲🇲' },\r\n  { name: 'Namibia', dial_code: '+264', code: 'NA', flag: '🇳🇦' },\r\n  { name: 'Nauru', dial_code: '+674', code: 'NR', flag: '🇳🇷' },\r\n  { name: 'Nepal', dial_code: '+977', code: 'NP', flag: '🇳🇵' },\r\n  { name: 'Netherlands', dial_code: '+31', code: 'NL', flag: '🇳🇱' },\r\n  {\r\n    name: 'Netherlands Antilles',\r\n    dial_code: '+599',\r\n    code: 'AN',\r\n    flag: '🇳🇱',\r\n  },\r\n  { name: 'New Caledonia', dial_code: '+687', code: 'NC', flag: '🇳🇨' },\r\n  { name: 'New Zealand', dial_code: '+64', code: 'NZ', flag: '🇳🇿' },\r\n  { name: 'Nicaragua', dial_code: '+505', code: 'NI', flag: '🇳🇮' },\r\n  { name: 'Niger', dial_code: '+227', code: 'NE', flag: '🇳🇪' },\r\n  { name: 'Nigeria', dial_code: '+234', code: 'NG', flag: '🇳🇬' },\r\n  { name: 'Niue', dial_code: '+683', code: 'NU', flag: '🇳🇺' },\r\n  { name: 'Norfolk Island', dial_code: '+672', code: 'NF', flag: '🇳🇫' },\r\n  {\r\n    name: 'Northern Mariana Islands',\r\n    dial_code: '+1670',\r\n    code: 'MP',\r\n    flag: '🏳',\r\n  },\r\n  { name: 'Norway', dial_code: '+47', code: 'NO', flag: '🇳🇴' },\r\n  { name: 'Oman', dial_code: '+968', code: 'OM', flag: '🇴🇲' },\r\n  { name: 'Pakistan', dial_code: '+92', code: 'PK', flag: '🇵🇰' },\r\n  { name: 'Palau', dial_code: '+680', code: 'PW', flag: '🇵🇼' },\r\n  {\r\n    name: 'Palestinian Territory, Occupied',\r\n    dial_code: '+970',\r\n    code: 'PS',\r\n    flag: '🇵🇸',\r\n  },\r\n  { name: 'Panama', dial_code: '+507', code: 'PA', flag: '🇵🇦' },\r\n  {\r\n    name: 'Papua New Guinea',\r\n    dial_code: '+675',\r\n    code: 'PG',\r\n    flag: '🇵🇬',\r\n  },\r\n  { name: 'Paraguay', dial_code: '+595', code: 'PY', flag: '🇵🇾' },\r\n  { name: 'Peru', dial_code: '+51', code: 'PE', flag: '🇵🇪' },\r\n  { name: 'Philippines', dial_code: '+63', code: 'PH', flag: '🇵🇭' },\r\n  { name: 'Pitcairn', dial_code: '+64', code: 'PN', flag: '🇵🇳' },\r\n  { name: 'Poland', dial_code: '+48', code: 'PL', flag: '🇵🇱' },\r\n  { name: 'Portugal', dial_code: '+351', code: 'PT', flag: '🇵🇹' },\r\n  { name: 'Puerto Rico', dial_code: '+1939', code: 'PR', flag: '🇵🇷' },\r\n  { name: 'Qatar', dial_code: '+974', code: 'QA', flag: '🇶🇦' },\r\n  { name: 'Romania', dial_code: '+40', code: 'RO', flag: '🇷🇴' },\r\n  { name: 'Russia', dial_code: '+7', code: 'RU', flag: '🇷🇺' },\r\n  { name: 'Rwanda', dial_code: '+250', code: 'RW', flag: '🇷🇼' },\r\n  { name: 'Reunion', dial_code: '+262', code: 'RE', flag: '🇫🇷' },\r\n  {\r\n    name: 'Saint Barthelemy',\r\n    dial_code: '+590',\r\n    code: 'BL',\r\n    flag: '🇧🇱',\r\n  },\r\n  {\r\n    name: 'Saint Helena, Ascension and Tristan Da Cunha',\r\n    dial_code: '+290',\r\n    code: 'SH',\r\n    flag: '🇸🇭',\r\n  },\r\n  {\r\n    name: 'Saint Kitts and Nevis',\r\n    dial_code: '+1869',\r\n    code: 'KN',\r\n    flag: '🇰🇳',\r\n  },\r\n  { name: 'Saint Lucia', dial_code: '+1758', code: 'LC', flag: '🇱🇨' },\r\n  { name: 'Saint Martin', dial_code: '+590', code: 'MF', flag: '🏳' },\r\n  {\r\n    name: 'Saint Pierre and Miquelon',\r\n    dial_code: '+508',\r\n    code: 'PM',\r\n    flag: '🇵🇲',\r\n  },\r\n  {\r\n    name: 'Saint Vincent and the Grenadines',\r\n    dial_code: '+1784',\r\n    code: 'VC',\r\n    flag: '🇻🇨',\r\n  },\r\n  { name: 'Samoa', dial_code: '+685', code: 'WS', flag: '🇼🇸' },\r\n  { name: 'San Marino', dial_code: '+378', code: 'SM', flag: '🇸🇲' },\r\n  {\r\n    name: 'Sao Tome and Principe',\r\n    dial_code: '+239',\r\n    code: 'ST',\r\n    flag: '🇸🇹',\r\n  },\r\n  { name: 'Saudi Arabia', dial_code: '+966', code: 'SA', flag: '🇸🇦' },\r\n  { name: 'Senegal', dial_code: '+221', code: 'SN', flag: '🇸🇳' },\r\n  { name: 'Serbia', dial_code: '+381', code: 'RS', flag: '🇷🇸' },\r\n  { name: 'Seychelles', dial_code: '+248', code: 'SC', flag: '🇸🇨' },\r\n  { name: 'Sierra Leone', dial_code: '+232', code: 'SL', flag: '🇸🇱' },\r\n  { name: 'Singapore', dial_code: '+65', code: 'SG', flag: '🇸🇬' },\r\n  { name: 'Slovakia', dial_code: '+421', code: 'SK', flag: '🇸🇰' },\r\n  { name: 'Slovenia', dial_code: '+386', code: 'SI', flag: '🇸🇮' },\r\n  {\r\n    name: 'Solomon Islands',\r\n    dial_code: '+677',\r\n    code: 'SB',\r\n    flag: '🇸🇧',\r\n  },\r\n  { name: 'Somalia', dial_code: '+252', code: 'SO', flag: '🇸🇴' },\r\n  { name: 'South Africa', dial_code: '+27', code: 'ZA', flag: '🇿🇦' },\r\n  { name: 'South Sudan', dial_code: '+211', code: 'SS', flag: '🇸🇸' },\r\n  {\r\n    name: 'South Georgia and the South Sandwich Islands',\r\n    dial_code: '+500',\r\n    code: 'GS',\r\n    flag: '🇬🇸',\r\n  },\r\n  { name: 'Spain', dial_code: '+34', code: 'ES', flag: '🇪🇸' },\r\n  { name: 'Sri Lanka', dial_code: '+94', code: 'LK', flag: '🇱🇰' },\r\n  { name: 'Sudan', dial_code: '+249', code: 'SD', flag: '🇸🇩' },\r\n  { name: 'Suriname', dial_code: '+597', code: 'SR', flag: '🇸🇷' },\r\n  {\r\n    name: 'Svalbard and Jan Mayen',\r\n    dial_code: '+47',\r\n    code: 'SJ',\r\n    flag: '🇩🇰',\r\n  },\r\n  { name: 'Swaziland', dial_code: '+268', code: 'SZ', flag: '🇸🇿' },\r\n  { name: 'Sweden', dial_code: '+46', code: 'SE', flag: '🇸🇪' },\r\n  { name: 'Switzerland', dial_code: '+41', code: 'CH', flag: '🇨🇭' },\r\n  {\r\n    name: 'Syrian Arab Republic',\r\n    dial_code: '+963',\r\n    code: 'SY',\r\n    flag: '🇸🇾',\r\n  },\r\n  { name: 'Taiwan', dial_code: '+886', code: 'TW', flag: '🇹🇼' },\r\n  { name: 'Tajikistan', dial_code: '+992', code: 'TJ', flag: '🇹🇯' },\r\n  {\r\n    name: 'Tanzania, United Republic of Tanzania',\r\n    dial_code: '+255',\r\n    code: 'TZ',\r\n    flag: '🇹🇿',\r\n  },\r\n  { name: 'Thailand', dial_code: '+66', code: 'TH', flag: '🇹🇭' },\r\n  { name: 'Timor-Leste', dial_code: '+670', code: 'TL', flag: '🇹🇱' },\r\n  { name: 'Togo', dial_code: '+228', code: 'TG', flag: '🇹🇬' },\r\n  { name: 'Tokelau', dial_code: '+690', code: 'TK', flag: '🇹🇰' },\r\n  { name: 'Tonga', dial_code: '+676', code: 'TO', flag: '🇹🇴' },\r\n  {\r\n    name: 'Trinidad and Tobago',\r\n    dial_code: '+1868',\r\n    code: 'TT',\r\n    flag: '🇹🇹',\r\n  },\r\n  { name: 'Tunisia', dial_code: '+216', code: 'TN', flag: '🇹🇳' },\r\n  { name: 'Turkey', dial_code: '+90', code: 'TR', flag: '🇹🇷' },\r\n  { name: 'Turkmenistan', dial_code: '+993', code: 'TM', flag: '🇹🇲' },\r\n  {\r\n    name: 'Turks and Caicos Islands',\r\n    dial_code: '+1649',\r\n    code: 'TC',\r\n    flag: '🇹🇨',\r\n  },\r\n  { name: 'Tuvalu', dial_code: '+688', code: 'TV', flag: '🇹🇻' },\r\n  { name: 'Uganda', dial_code: '+256', code: 'UG', flag: '🇺🇬' },\r\n  { name: 'Ukraine', dial_code: '+380', code: 'UA', flag: '🇺🇦' },\r\n  {\r\n    name: 'United Arab Emirates',\r\n    dial_code: '+971',\r\n    code: 'AE',\r\n    flag: '🇦🇪',\r\n  },\r\n  { name: 'United Kingdom', dial_code: '+44', code: 'GB', flag: '🇬🇧' },\r\n  { name: 'United States', dial_code: '+1', code: 'US', flag: '🇺🇸' },\r\n  { name: 'Uruguay', dial_code: '+598', code: 'UY', flag: '🇺🇾' },\r\n  { name: 'Uzbekistan', dial_code: '+998', code: 'UZ', flag: '🇺🇿' },\r\n  { name: 'Vanuatu', dial_code: '+678', code: 'VU', flag: '🇻🇺' },\r\n  {\r\n    name: 'Venezuela, Bolivarian Republic of Venezuela',\r\n    dial_code: '+58',\r\n    code: 'VE',\r\n    flag: '🇻🇪',\r\n  },\r\n  { name: 'Vietnam', dial_code: '+84', code: 'VN', flag: '🇻🇳' },\r\n  {\r\n    name: 'Virgin Islands, British',\r\n    dial_code: '+1284',\r\n    code: 'VG',\r\n    flag: '🇻🇬',\r\n  },\r\n  {\r\n    name: 'Virgin Islands, U.S.',\r\n    dial_code: '+1340',\r\n    code: 'VI',\r\n    flag: '🇻🇮',\r\n  },\r\n  {\r\n    name: 'Wallis and Futuna',\r\n    dial_code: '+681',\r\n    code: 'WF',\r\n    flag: '🇼🇫',\r\n  },\r\n  { name: 'Yemen', dial_code: '+967', code: 'YE', flag: '🇾🇪' },\r\n  { name: 'Zambia', dial_code: '+260', code: 'ZM', flag: '🇿🇲' },\r\n  { name: 'Zimbabwe', dial_code: '+263', code: 'ZW', flag: '🇿🇼' },\r\n];\r\n\r\nexport default countries;\r\n","import React, { FC, ChangeEvent, FormEvent } from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport BackArrow from '../../Components/BackArrow';\r\nimport Input from '../../Components/Input';\r\nimport countries from '../../Utils/countries';\r\nimport styled from '../../Components/Style/typed-components';\r\n\r\nconst Container = styled.div`\r\n  margin-top: 30px;\r\n  padding: 50px 20px;\r\n`;\r\n\r\nconst BackArrowExtended = styled(BackArrow)`\r\n  position: absolute;\r\n  top: 20px;\r\n  left: 20px;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  font-size: 25px;\r\n  margin-bottom: 40px;\r\n`;\r\n\r\nconst CountrySelect = styled.select`\r\n  font-size: 20px;\r\n  color: '#2c3e50';\r\n  -webkit-appearance: none;\r\n  -moz-appearance: none;\r\n  appearance: none;\r\n  background-color: white;\r\n  border: 0;\r\n  font-family: 'Maven Pro';\r\n  margin-bottom: 20px;\r\n  width: 90%;\r\n`;\r\n\r\nconst CountryOption = styled.option``;\r\n\r\nconst Form = styled.form``;\r\n\r\nconst Button = styled.button`\r\n  box-shadow: 0 18px 35px rgba(50, 50, 93, 0.1), 0 8px 15px rgba(0, 0, 0, 0.07);\r\n  background-color: black;\r\n  color: white;\r\n  padding: 20px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: absolute;\r\n  bottom: 50px;\r\n  right: 50px;\r\n  cursor: pointer;\r\n`;\r\n\r\ninterface IProps {\r\n  countryCode: string;\r\n  phoneNumber: string;\r\n  onInputChange: (\r\n    event: ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n  ) => void;\r\n  onSubmit: (event: FormEvent<HTMLFormElement>) => void;\r\n  loading: boolean;\r\n}\r\n\r\nconst PhoneLoginPresenter: FC<IProps> = ({\r\n  countryCode,\r\n  phoneNumber,\r\n  onInputChange,\r\n  onSubmit,\r\n  loading,\r\n}) => (\r\n  <Container>\r\n    <Helmet>\r\n      <title>Phone Login | Number</title>\r\n    </Helmet>\r\n    <BackArrowExtended backTo={'/'} />\r\n    <Title>Enter your mobile number</Title>\r\n    <CountrySelect\r\n      value={countryCode}\r\n      name={'countryCode'}\r\n      onChange={onInputChange}>\r\n      {countries.map((country, index) => (\r\n        <CountryOption key={index} value={country.dial_code}>\r\n          {country.flag} {country.name} ({country.dial_code})\r\n        </CountryOption>\r\n      ))}\r\n    </CountrySelect>\r\n    <Form onSubmit={onSubmit}>\r\n      <Input\r\n        placeholder={'647 123 1234'}\r\n        value={phoneNumber}\r\n        name={'phoneNumber'}\r\n        onChange={onInputChange}\r\n      />\r\n      <Button>\r\n        {loading ? (\r\n          <svg\r\n            xmlns='http://www.w3.org/2000/svg'\r\n            width='24'\r\n            height='24'\r\n            viewBox='0 0 24 24'\r\n            fill={'white'}>\r\n            <path d='M13.75 22c0 .966-.783 1.75-1.75 1.75s-1.75-.784-1.75-1.75.783-1.75 1.75-1.75 1.75.784 1.75 1.75zm-1.75-22c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm10 10.75c.689 0 1.249.561 1.249 1.25 0 .69-.56 1.25-1.249 1.25-.69 0-1.249-.559-1.249-1.25 0-.689.559-1.25 1.249-1.25zm-22 1.25c0 1.105.896 2 2 2s2-.895 2-2c0-1.104-.896-2-2-2s-2 .896-2 2zm19-8c.551 0 1 .449 1 1 0 .553-.449 1.002-1 1-.551 0-1-.447-1-.998 0-.553.449-1.002 1-1.002zm0 13.5c.828 0 1.5.672 1.5 1.5s-.672 1.501-1.502 1.5c-.826 0-1.498-.671-1.498-1.499 0-.829.672-1.501 1.5-1.501zm-14-14.5c1.104 0 2 .896 2 2s-.896 2-2.001 2c-1.103 0-1.999-.895-1.999-2s.896-2 2-2zm0 14c1.104 0 2 .896 2 2s-.896 2-2.001 2c-1.103 0-1.999-.895-1.999-2s.896-2 2-2z' />\r\n          </svg>\r\n        ) : (\r\n          <svg\r\n            xmlns='http://www.w3.org/2000/svg'\r\n            width='24'\r\n            height='24'\r\n            viewBox='0 0 24 24'\r\n            fill={'white'}>\r\n            <path d='M7.33 24l-2.83-2.829 9.339-9.175-9.339-9.167 2.83-2.829 12.17 11.996z' />\r\n          </svg>\r\n        )}\r\n      </Button>\r\n    </Form>\r\n  </Container>\r\n);\r\n\r\nexport default PhoneLoginPresenter;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const PHONE_SIGN_IN = gql`\r\n  mutation startPhoneVerification($phoneNumber: String!) {\r\n    StartPhoneVerification(phoneNumber: $phoneNumber) {\r\n      ok\r\n      error\r\n    }\r\n  }\r\n`;\r\n","import PhoneLogin from './PhoneLoginContainer';\r\nexport default PhoneLogin;\r\n","import React, { ChangeEventHandler, FormEventHandler, useState } from 'react';\r\nimport PhoneLoginPresenter from './PhoneLoginPresenter';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { PHONE_SIGN_IN } from './PhoneLoginQueries';\r\nimport { useMutation } from 'react-apollo';\r\nimport routes from '../../config/routes';\r\n\r\nconst PhoneLoginContainer = (props: RouteComponentProps<any>) => {\r\n  const [countryCode, setCountryCode] = useState('+1');\r\n  const [phoneNumber, setPhoneNumber] = useState('6479208877');\r\n\r\n  const [PhoneSignInMutation, { loading }] = useMutation(PHONE_SIGN_IN, {\r\n    variables: { phoneNumber: `${countryCode}${phoneNumber}` },\r\n    onCompleted: (data) => {\r\n      const { StartPhoneVerification } = data;\r\n      const phone = `${countryCode}${phoneNumber}`;\r\n      if (StartPhoneVerification) {\r\n        if (StartPhoneVerification.ok) {\r\n          toast.success(`SMS Sent! Redirecting you to ...`);\r\n          setTimeout(() => {\r\n            props.history.push({\r\n              pathname: routes.verifyPhone,\r\n              state: {\r\n                phone,\r\n              },\r\n            });\r\n          }, 2000);\r\n        } else {\r\n          toast.error(StartPhoneVerification.error);\r\n        }\r\n      }\r\n    },\r\n  });\r\n  // console.log('phoneSignIn:', data);\r\n\r\n  const onInputChange: ChangeEventHandler<\r\n    HTMLInputElement | HTMLSelectElement\r\n  > = (event) => {\r\n    const {\r\n      target: { name, value },\r\n    } = event;\r\n    if (name === 'countryCode') {\r\n      setCountryCode(value);\r\n    } else {\r\n      setPhoneNumber(value);\r\n    }\r\n  };\r\n\r\n  const onSubmit: FormEventHandler<HTMLFormElement> = async (event) => {\r\n    event.preventDefault();\r\n    const phone = `${countryCode}${phoneNumber}`;\r\n    const isValid = /^\\+[1-9]{1}[0-9]{7,11}$/.test(phone);\r\n    if (isValid) {\r\n      await PhoneSignInMutation();\r\n    } else {\r\n      toast.error(`Please write a valid phone number`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PhoneLoginPresenter\r\n      countryCode={countryCode}\r\n      phoneNumber={phoneNumber}\r\n      onInputChange={onInputChange}\r\n      onSubmit={onSubmit}\r\n      loading={loading}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PhoneLoginContainer;\r\n","import React from 'react';\r\nimport styled from '../Style/typed-components';\r\n\r\nconst Place = styled.div`\r\n  margin: 15px 0;\r\n  display: flex;\r\n  align-items: center;\r\n  & i {\r\n    font-size: 12px;\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  margin-left: 10px;\r\n`;\r\n\r\nconst Name = styled.span`\r\n  display: block;\r\n`;\r\n\r\nconst Icon = styled.span`\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Address = styled.span`\r\n  color: ${(props) => props.theme.greyColor};\r\n  font-size: 14px;\r\n`;\r\n\r\nconst Remove = styled.div`\r\n  flex: 1;\r\n  margin-left: auto;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`;\r\n\r\ninterface IProps {\r\n  fav: boolean;\r\n  name: string;\r\n  address: string;\r\n  onStarPress: any;\r\n  onRemovePress: any;\r\n}\r\n\r\nconst PlacePresenter: React.FC<IProps> = ({\r\n  onStarPress,\r\n  fav,\r\n  name,\r\n  address,\r\n  onRemovePress,\r\n}) => (\r\n  <Place>\r\n    <Icon onClick={onStarPress}>{fav ? '★' : '✩'}</Icon>\r\n    <Container>\r\n      <Name>{name}</Name>\r\n      <Address>{address}</Address>\r\n    </Container>\r\n    <Remove onClick={onRemovePress}>\r\n      <svg\r\n        xmlns='http://www.w3.org/2000/svg'\r\n        width='12'\r\n        height='12'\r\n        viewBox='0 0 24 24'>\r\n        <path d='M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6 13h-12v-2h12v2z' />\r\n      </svg>\r\n    </Remove>\r\n  </Place>\r\n);\r\n\r\nexport default PlacePresenter;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const EDIT_PLACE = gql`\r\n  mutation editPlace($placeId: Int!, $isFaverite: Boolean) {\r\n    EditPlace(placeId: $placeId, isFaverite: $isFaverite) {\r\n      ok\r\n      error\r\n    }\r\n  }\r\n`;\r\n\r\nexport const DELETE_PLACE = gql`\r\n  mutation deletePlace($placeId: Int!) {\r\n    DeletePlace(placeId: $placeId) {\r\n      ok\r\n      error\r\n    }\r\n  }\r\n`;\r\n","import Place from './PlaceContainer';\r\nexport default Place;\r\n","import React from 'react';\r\nimport { useMutation } from 'react-apollo';\r\nimport { GET_PLACES } from '../../sharedNotLocalQueries';\r\nimport PlacePresenter from './PlacePresenter';\r\nimport { EDIT_PLACE, DELETE_PLACE } from './PlaceQueries';\r\n\r\ninterface IProps {\r\n  fav: boolean;\r\n  name: string;\r\n  address: string;\r\n  id: number;\r\n}\r\n\r\nconst PlaceContainer: React.FC<IProps> = (props) => {\r\n  const { id, fav, name, address } = props;\r\n  const [editPlace] = useMutation(EDIT_PLACE, {\r\n    variables: {\r\n      isFaverite: !fav,\r\n      placeId: id,\r\n    },\r\n    refetchQueries: [{ query: GET_PLACES }],\r\n  });\r\n  const [removePlace] = useMutation(DELETE_PLACE, {\r\n    variables: { placeId: id },\r\n    refetchQueries: [{ query: GET_PLACES }],\r\n  });\r\n  return (\r\n    <PlacePresenter\r\n      onStarPress={editPlace}\r\n      fav={fav}\r\n      name={name}\r\n      address={address}\r\n      onRemovePress={removePlace}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PlaceContainer;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport { Link } from 'react-router-dom';\r\nimport Header from '../../Components/Header';\r\nimport Place from '../../Components/Place';\r\nimport styled from '../../Components/Style/typed-components';\r\nimport { getPlaces } from '../../types/api';\r\nimport routes from '../../config/routes';\r\n\r\nconst Container = styled.div`\r\n  padding: 0 40px;\r\n`;\r\n\r\nconst SLink = styled(Link)`\r\n  text-decoration: underline;\r\n`;\r\n\r\ninterface IProps {\r\n  data?: getPlaces;\r\n  loading: boolean;\r\n}\r\n\r\nconst PlacesPresenter: React.FC<IProps> = ({\r\n  data: { GetMyPlaces: { places = null } = {} } = {},\r\n  loading,\r\n}) => (\r\n  <React.Fragment>\r\n    <Helmet>\r\n      <title>Places | Number</title>\r\n    </Helmet>\r\n    <Header title={'Places'} backTo={routes.home} />\r\n    <Container>\r\n      {!loading && places && places.length === 0 && (\r\n        <>\r\n          'You have no places'\r\n          <br />\r\n          <br />\r\n        </>\r\n      )}\r\n      {!loading &&\r\n        places &&\r\n        places.map((place) => (\r\n          <Place\r\n            key={place!.id}\r\n            id={place!.id}\r\n            fav={place!.isFaverite}\r\n            name={place!.name}\r\n            address={place!.address}\r\n          />\r\n        ))}\r\n      <SLink to={routes.addPlace}>Add some places!</SLink>\r\n    </Container>\r\n  </React.Fragment>\r\n);\r\n\r\nexport default PlacesPresenter;\r\n","import Places from './PlacesContainer';\r\nexport default Places;\r\n","import React from 'react';\r\nimport { useQuery, QueryResult } from 'react-apollo';\r\nimport { GET_PLACES } from '../../sharedNotLocalQueries';\r\nimport { getPlaces } from '../../types/api';\r\nimport PlacesPresenter from './PlacesPresenter';\r\n\r\nconst PlacesContainer = () => {\r\n  const { data, loading }: QueryResult<getPlaces> = useQuery(GET_PLACES);\r\n  return <PlacesPresenter data={data} loading={loading} />;\r\n};\r\n\r\nexport default PlacesContainer;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '../../Components/Button';\r\nimport styled from '../../Components/Style/typed-components';\r\nimport { getRide, userProfile } from '../../types/api';\r\nimport { MutationFunction } from 'react-apollo';\r\nimport routes from '../../config/routes';\r\n\r\nconst Container = styled.div`\r\n  padding: 40px;\r\n`;\r\n\r\nconst Title = styled.h4`\r\n  font-weight: 800;\r\n  margin-top: 30px;\r\n  margin-bottom: 10px;\r\n  &:first-child {\r\n    margin-top: 0;\r\n  }\r\n`;\r\n\r\nconst Data = styled.span`\r\n  color: ${(props) => props.theme.blueColor};\r\n`;\r\n\r\nconst Img = styled.img`\r\n  border-radius: 50%;\r\n  margin-right: 20px;\r\n  max-width: 50px;\r\n  height: 50px;\r\n`;\r\n\r\nconst Passenger = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst Buttons = styled.div`\r\n  margin: 30px 0px;\r\n`;\r\n\r\nconst ExtendedButton = styled(Button)`\r\n  margin-bottom: 30px;\r\n`;\r\n\r\ninterface IProps {\r\n  data?: getRide;\r\n  userData?: userProfile;\r\n  loading: boolean;\r\n  updateRideFn: MutationFunction;\r\n}\r\n\r\nconst RidePresenter: React.FC<IProps> = ({\r\n  data: { GetRide: { ride = null } = {} } = {},\r\n  userData: { GetMyProfile: { user = null } = {} } = {},\r\n  updateRideFn,\r\n}) => {\r\n  return (\r\n    <Container>\r\n      {ride && user && (\r\n        <React.Fragment>\r\n          <Title>Passenger</Title>\r\n          <Passenger>\r\n            <Img src={ride.passenger.profilePhoto!} />\r\n            <Data>{ride.passenger.fullName!}</Data>\r\n          </Passenger>\r\n          {ride.driver && (\r\n            <React.Fragment>\r\n              <Title>Driver</Title>\r\n              <Passenger>\r\n                <Img src={ride.driver.profilePhoto!} />\r\n                <Data>{ride.driver.fullName!}</Data>\r\n              </Passenger>\r\n            </React.Fragment>\r\n          )}\r\n          <Title>From</Title>\r\n          <Data>{ride.pickUpAddress}</Data>\r\n          <Title>To</Title>\r\n          <Data>{ride.dropOffAddress}</Data>\r\n          <Title>Price</Title>\r\n          <Data>{ride.price}</Data>\r\n          <Title>Distance</Title>\r\n          <Data>{ride.distance}</Data>\r\n          <Title>Duration</Title>\r\n          <Data>{ride.duration}</Data>\r\n          <Title>Status</Title>\r\n          <Data>{ride.status}</Data>\r\n          <Buttons>\r\n            {ride.driver &&\r\n              ride.driver.id === user.id &&\r\n              ride.status === 'ACCEPTED' && (\r\n                <ExtendedButton\r\n                  value={'Picked Up'}\r\n                  onClick={() =>\r\n                    updateRideFn({\r\n                      variables: {\r\n                        rideId: Number(ride.id),\r\n                        status: 'ONROUTE',\r\n                      },\r\n                    })\r\n                  }\r\n                />\r\n              )}\r\n            {ride.driver &&\r\n              ride.driver.id === user.id &&\r\n              ride.status === 'ONROUTE' && (\r\n                <ExtendedButton\r\n                  value={'Finished'}\r\n                  onClick={() =>\r\n                    updateRideFn({\r\n                      variables: {\r\n                        rideId: Number(ride.id),\r\n                        status: 'FINISHED',\r\n                      },\r\n                    })\r\n                  }\r\n                />\r\n              )}\r\n            {ride.status !== 'REQUESTING' && (\r\n              <Link to={`${routes.chat}/${ride.chatId}`}>\r\n                <ExtendedButton value={'Chat'} onClick={null} />\r\n              </Link>\r\n            )}\r\n          </Buttons>\r\n        </React.Fragment>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default RidePresenter;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const GET_RIDE = gql`\r\n  query getRide($rideId: Int!) {\r\n    GetRide(rideId: $rideId) {\r\n      ok\r\n      error\r\n      ride {\r\n        id\r\n        status\r\n        pickUpAddress\r\n        dropOffAddress\r\n        price\r\n        distance\r\n        duration\r\n        driver {\r\n          id\r\n          fullName\r\n          profilePhoto\r\n        }\r\n        passenger {\r\n          id\r\n          fullName\r\n          profilePhoto\r\n        }\r\n        chatId\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const RIDE_SUBSCRIPTION = gql`\r\n  subscription rideUpdates {\r\n    RideStatusSubscription {\r\n      id\r\n      status\r\n      pickUpAddress\r\n      dropOffAddress\r\n      price\r\n      distance\r\n      duration\r\n      driver {\r\n        id\r\n        fullName\r\n        profilePhoto\r\n      }\r\n      passenger {\r\n        id\r\n        fullName\r\n        profilePhoto\r\n      }\r\n      chatId\r\n    }\r\n  }\r\n`;\r\n\r\nexport const UPDATE_RIDE_STATUS = gql`\r\n  mutation updateRide($rideId: Int!, $status: StatusOption!) {\r\n    UpdateRideStatus(rideId: $rideId, status: $status) {\r\n      ok\r\n      error\r\n      rideId\r\n    }\r\n  }\r\n`;\r\n","import Ride from './RideContainer';\r\nexport default Ride;\r\n","import { SubscribeToMoreOptions } from 'apollo-client';\r\nimport React from 'react';\r\nimport { useQuery, QueryResult, useMutation } from 'react-apollo';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { USER_PROFILE } from '../../sharedNotLocalQueries';\r\nimport RidePresenter from './RidePresenter';\r\nimport { GET_RIDE, RIDE_SUBSCRIPTION, UPDATE_RIDE_STATUS } from './RideQueries';\r\nimport { userProfile, getRide } from '../../types/api';\r\nimport routes from '../../config/routes';\r\n\r\ninterface IProps extends RouteComponentProps<any> {}\r\n\r\nconst RideContainer = (props: IProps) => {\r\n  const {\r\n    match: {\r\n      params: { rideId },\r\n    },\r\n  } = props;\r\n  if (!rideId) {\r\n    props.history.push(routes.home);\r\n  }\r\n\r\n  const {\r\n    data: userData,\r\n  }: QueryResult<userProfile, Record<string, any>> = useQuery(USER_PROFILE);\r\n\r\n  const {\r\n    data,\r\n    loading,\r\n    subscribeToMore,\r\n  }: QueryResult<getRide, Record<string, any>> = useQuery(GET_RIDE, {\r\n    variables: { rideId: Number(rideId) },\r\n  });\r\n\r\n  const subscribeOptions: SubscribeToMoreOptions = {\r\n    document: RIDE_SUBSCRIPTION,\r\n    updateQuery: (prev, { subscriptionData }) => {\r\n      if (!subscriptionData.data) {\r\n        return prev;\r\n      }\r\n      const {\r\n        data: {\r\n          RideStatusSubscription: { status },\r\n        },\r\n      } = subscriptionData;\r\n      if (status === 'FINISHED') {\r\n        window.location.href = routes.home;\r\n      }\r\n    },\r\n  };\r\n  subscribeToMore(subscribeOptions);\r\n  const [updateRideFn] = useMutation(UPDATE_RIDE_STATUS);\r\n  if (!loading) {\r\n    console.log('data:', data);\r\n  }\r\n  return (\r\n    <RidePresenter\r\n      userData={userData}\r\n      loading={loading}\r\n      data={data}\r\n      updateRideFn={updateRideFn}\r\n    />\r\n  );\r\n};\r\nexport default RideContainer;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const LOG_USER_IN = gql`\r\n  mutation logUserIn($token: String!) {\r\n    logUserIn(token: $token) @client\r\n  }\r\n`;\r\n\r\nexport const LOG_USER_OUT = gql`\r\n  mutation logUserOut {\r\n    logUserOut @client\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport { Link } from 'react-router-dom';\r\nimport Header from '../../Components/Header';\r\nimport Place from '../../Components/Place';\r\nimport styled from '../../Components/Style/typed-components';\r\nimport { userProfile, getPlaces } from '../../types/api';\r\nimport routes from '../../config/routes';\r\n\r\nconst Container = styled.div`\r\n  padding: 0px 40px;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  height: 60px;\r\n  width: 60px;\r\n  border-radius: 50%;\r\n`;\r\n\r\nconst GridLink = styled(Link)`\r\n  display: grid;\r\n  grid-template-columns: 1fr 4fr;\r\n  grid-gap: 10px;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst Keys = styled.div``;\r\n\r\nconst Key = styled.span`\r\n  display: block;\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst FakeLink = styled.span`\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst SLink = styled(Link)`\r\n  display: block;\r\n  text-decoration: underline;\r\n  margin: 20px 0px;\r\n`;\r\n\r\ninterface IProps {\r\n  logUserOut: any;\r\n  userData?: userProfile;\r\n  userDataLoading: boolean;\r\n  placesData?: getPlaces;\r\n  placesLoading: boolean;\r\n}\r\n\r\nconst SettingsPresenter: React.FC<IProps> = ({\r\n  logUserOut,\r\n  userData: { GetMyProfile: { user = null } = {} } = {},\r\n  placesData: { GetMyPlaces: { places = null } = {} } = {},\r\n  userDataLoading,\r\n  placesLoading,\r\n}) => (\r\n  <React.Fragment>\r\n    <Helmet>\r\n      <title>Settings | Nuber</title>\r\n    </Helmet>\r\n    <Header title={'Account Settings'} backTo={routes.home} />\r\n    <Container>\r\n      <GridLink to={routes.editAccount}>\r\n        {!userDataLoading &&\r\n          user &&\r\n          user.profilePhoto &&\r\n          user.email &&\r\n          user.fullName && (\r\n            <React.Fragment>\r\n              <Image src={user.profilePhoto} />\r\n              <Keys>\r\n                <Key>{user.fullName}</Key>\r\n                <Key>{user.email}</Key>\r\n              </Keys>\r\n            </React.Fragment>\r\n          )}\r\n      </GridLink>\r\n      {!placesLoading &&\r\n        places &&\r\n        places.map((place) => (\r\n          <Place\r\n            key={place!.id}\r\n            id={place!.id}\r\n            fav={place!.isFaverite}\r\n            name={place!.name}\r\n            address={place!.address}\r\n          />\r\n        ))}\r\n      <SLink to={routes.places}>Go to Places</SLink>\r\n      <SLink to={routes.history}>History</SLink>\r\n      <FakeLink onClick={logUserOut}>Log Out</FakeLink>\r\n    </Container>\r\n  </React.Fragment>\r\n);\r\n\r\nexport default SettingsPresenter;\r\n","import SettingsContainer from './SettingsContainer';\r\nexport default SettingsContainer;\r\n","import React from 'react';\r\nimport { useMutation, useQuery, QueryResult } from 'react-apollo';\r\nimport { USER_PROFILE, GET_PLACES } from '../../sharedNotLocalQueries';\r\nimport { LOG_USER_OUT } from '../../sharedQueries';\r\nimport { userProfile, getPlaces } from '../../types/api';\r\nimport SettingsPresenter from './SettingsPresenter';\r\nimport { InMemoryCache } from 'apollo-boost';\r\n\r\nconst SettingsContainer = () => {\r\n  const [logUserOut] = useMutation(LOG_USER_OUT, {\r\n    update: (caches) => {\r\n      caches = new InMemoryCache();\r\n      window.location.reload();\r\n    },\r\n  });\r\n  const {\r\n    data: userData,\r\n    loading: userLoading,\r\n  }: QueryResult<userProfile> = useQuery(USER_PROFILE);\r\n  const {\r\n    data: placesData,\r\n    loading: placesLoading,\r\n  }: QueryResult<getPlaces> = useQuery(GET_PLACES);\r\n  return (\r\n    <SettingsPresenter\r\n      userDataLoading={userLoading}\r\n      placesLoading={placesLoading}\r\n      userData={userData}\r\n      placesData={placesData}\r\n      logUserOut={logUserOut}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SettingsContainer;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport BackArrow from '../../Components/BackArrow';\r\nimport styled from '../../Components/Style/typed-components';\r\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\r\nimport config from '../../config';\r\n\r\nconst Container = styled.div`\r\n  margin-top: 30px;\r\n  padding: 50px 20px;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  font-size: 25px;\r\n  margin-bottom: 40px;\r\n`;\r\n\r\nconst Link = styled.span`\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Icon = styled.span`\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst BackArrowExtended = styled(BackArrow)`\r\n  position: absolute;\r\n  top: 20px;\r\n  left: 20px;\r\n`;\r\n\r\ninterface IProps {\r\n  loginCallback: (response) => void;\r\n}\r\n\r\nconst SocialLoginPresenter: React.FC<IProps> = ({ loginCallback }) => (\r\n  <Container>\r\n    <Helmet>\r\n      <title>Social Login | Nuber</title>\r\n    </Helmet>\r\n    <Title>Choose an account</Title>\r\n    <BackArrowExtended backTo={'/'} />\r\n    <FacebookLogin\r\n      appId={config.AUTH.FACEBOOK_ID}\r\n      autoLoad={false}\r\n      callback={loginCallback}\r\n      fields='name,last_name,first_name,email,picture'\r\n      render={(renderProps) => (\r\n        <Link onClick={renderProps.onClick}>\r\n          <Icon>\r\n            <svg\r\n              xmlns='http://www.w3.org/2000/svg'\r\n              width='18'\r\n              height='18'\r\n              viewBox='0 0 24 24'\r\n              fill='#344EA1'>\r\n              <path d='M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z' />\r\n            </svg>\r\n          </Icon>\r\n          Facebook\r\n        </Link>\r\n      )}\r\n    />\r\n  </Container>\r\n);\r\n\r\nexport default SocialLoginPresenter;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const FACEBOOK_CONNECT = gql`\r\n  mutation facebookConnect(\r\n    $firstName: String!\r\n    $lastName: String!\r\n    $email: String\r\n    $fbId: String!\r\n  ) {\r\n    FacebookConnect(\r\n      firstName: $firstName\r\n      lastName: $lastName\r\n      email: $email\r\n      fbId: $fbId\r\n    ) {\r\n      ok\r\n      error\r\n      token\r\n    }\r\n  }\r\n`;\r\n","import SocialLogin from './SocialLoginContainer';\r\nexport default SocialLogin;\r\n","import React from 'react';\r\nimport SocialLoginPresenter from './SocialLoginPresenter';\r\nimport { useMutation } from 'react-apollo';\r\nimport { FACEBOOK_CONNECT } from './SocialLoginQueries';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { LOG_USER_IN } from '../../sharedQueries';\r\n\r\nconst SocialLoginContainer = (props: RouteComponentProps) => {\r\n  const [logUserIn] = useMutation(LOG_USER_IN);\r\n  const [facebookConnect] = useMutation(FACEBOOK_CONNECT, {\r\n    onCompleted: (data) => {\r\n      const { FacebookConnect } = data;\r\n      if (FacebookConnect.ok) {\r\n        // TODO: if CompletePhoneVeification.token is null, going to sign up with email or facebook\r\n        // For now, token is null, but logged in~\r\n        logUserIn({\r\n          variables: {\r\n            token: FacebookConnect.token,\r\n          },\r\n        });\r\n        toast.success(\"You're verified, logging in now\");\r\n      } else {\r\n        toast.error(FacebookConnect.error);\r\n      }\r\n    },\r\n  });\r\n\r\n  const callback = ({ name, id, email, accessToken, first_name }) => {\r\n    const firstName = name.split(' ')[0];\r\n    const lastName = name.split(' ')[1];\r\n    // console.log(name, id, email, accessToken, firstName, first_name);\r\n    if (accessToken) {\r\n      toast.success(`Welcome ${name}!`);\r\n      facebookConnect({\r\n        variables: {\r\n          email,\r\n          fbId: id,\r\n          firstName,\r\n          lastName,\r\n        },\r\n      });\r\n    } else {\r\n      toast.error('Could not log you in 😔');\r\n    }\r\n  };\r\n  return <SocialLoginPresenter loginCallback={callback} />;\r\n};\r\n\r\nexport default SocialLoginContainer;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport Button from '../../Components/Button';\r\nimport Header from '../../Components/Header';\r\nimport Input from '../../Components/Input';\r\nimport styled from '../../Components/Style/typed-components';\r\nimport Form from '../../Components/Form';\r\nimport routes from '../../config/routes';\r\n\r\nconst Container = styled.div``;\r\n\r\nconst ExtendedForm = styled(Form)`\r\n  padding: 0px 40px;\r\n`;\r\n\r\nconst ExtendedInput = styled(Input)`\r\n  margin-bottom: 20px;\r\n`;\r\n\r\ninterface IProps {\r\n  verificationKey: string;\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n  onSubmit: any;\r\n  loading: boolean;\r\n}\r\n\r\nconst VerifyPhonePresenter: React.FC<IProps> = ({\r\n  verificationKey,\r\n  onChange,\r\n  onSubmit,\r\n  loading,\r\n}) => (\r\n  <Container>\r\n    <Helmet>\r\n      <title>Verify Phone | Number</title>\r\n    </Helmet>\r\n    <Header backTo={routes.phoneLogin} title={'Verify Phone Number'} />\r\n    <ExtendedForm submitFn={onSubmit}>\r\n      <ExtendedInput\r\n        value={verificationKey}\r\n        placeholder={'Enter Verification Code'}\r\n        onChange={onChange}\r\n        name={'verificationKey'}\r\n      />\r\n      <Button\r\n        disabled={loading}\r\n        value={loading ? 'Verifying' : 'Submit'}\r\n        onClick={null}\r\n      />\r\n    </ExtendedForm>\r\n  </Container>\r\n);\r\n\r\nexport default VerifyPhonePresenter;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const VERIFY_PHONE = gql`\r\n  mutation verifyPhone($verificationKey: String!, $phoneNumber: String!) {\r\n    CompletePhoneVerification(\r\n      key: $verificationKey\r\n      phoneNumber: $phoneNumber\r\n    ) {\r\n      ok\r\n      error\r\n      token\r\n    }\r\n  }\r\n`;\r\n","import VerifyPhone from './VerifyPhoneContainer';\r\nexport default VerifyPhone;\r\n","import React, { useState } from 'react';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport VerifyPhonePresenter from './VerifyPhonePresenter';\r\nimport { useMutation } from 'react-apollo';\r\nimport { VERIFY_PHONE } from './VerifyPhoneQueries';\r\nimport { toast } from 'react-toastify';\r\nimport { LOG_USER_IN } from '../../sharedQueries';\r\nimport routes from '../../config/routes';\r\n\r\ntype PhoneState = {\r\n  phone?: string;\r\n};\r\n\r\nexport interface StaticContext {\r\n  statusCode?: number;\r\n}\r\n\r\ninterface IProps extends RouteComponentProps<{}, StaticContext, PhoneState> {\r\n  location: any;\r\n}\r\n\r\nconst VerifyPhoneContainer = (props: IProps) => {\r\n  let phoneNumber;\r\n  if (!props.location.state) {\r\n    props.history.push('/');\r\n  } else {\r\n    phoneNumber = props.location.state.phone;\r\n  }\r\n\r\n  const [verificationKey, setVerificationKey] = useState('');\r\n\r\n  const [logUserIn] = useMutation(LOG_USER_IN);\r\n  const [verifyPhone, { loading }] = useMutation(VERIFY_PHONE, {\r\n    variables: {\r\n      verificationKey,\r\n      phoneNumber,\r\n    },\r\n    onCompleted: (data) => {\r\n      const { CompletePhoneVerification } = data;\r\n      if (CompletePhoneVerification.ok) {\r\n        if (CompletePhoneVerification.token) {\r\n          logUserIn({\r\n            variables: {\r\n              token: CompletePhoneVerification.token,\r\n            },\r\n          });\r\n          toast.success(\"You're verified, logging in now\");\r\n        } else {\r\n          setTimeout(() => {\r\n            props.history.push({\r\n              pathname: routes.emailSignUp,\r\n              state: {\r\n                phone: props.location.state.phone,\r\n              },\r\n            });\r\n          }, 2000);\r\n        }\r\n      } else {\r\n        toast.error(CompletePhoneVerification.error);\r\n      }\r\n    },\r\n  });\r\n\r\n  const onInputChange: React.ChangeEventHandler<HTMLInputElement> = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event;\r\n    setVerificationKey(value);\r\n  };\r\n\r\n  return (\r\n    <VerifyPhonePresenter\r\n      loading={loading}\r\n      onSubmit={verifyPhone}\r\n      onChange={onInputChange}\r\n      verificationKey={verificationKey}\r\n    />\r\n  );\r\n};\r\n\r\nexport default VerifyPhoneContainer;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport Button from '../../Components/Button';\r\nimport Header from '../../Components/Header';\r\nimport Input from '../../Components/Input';\r\nimport styled from '../../Components/Style/typed-components';\r\nimport Form from '../../Components/Form';\r\nimport routes from '../../config/routes';\r\n\r\nconst Container = styled.div``;\r\n\r\nconst ExtendedForm = styled(Form)`\r\n  padding: 0px 40px;\r\n`;\r\n\r\nconst ExtendedInput = styled(Input)`\r\n  margin-bottom: 20px;\r\n`;\r\n\r\ninterface IProps {\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n  password: string;\r\n  profilePhoto: string;\r\n  age: string;\r\n  phoneNumber: string;\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n  onSubmit: any;\r\n  loading: boolean;\r\n}\r\n\r\nconst EmailSignUpPresenter: React.FC<IProps> = ({\r\n  firstName,\r\n  lastName,\r\n  email,\r\n  password,\r\n  profilePhoto,\r\n  age,\r\n  phoneNumber,\r\n  onChange,\r\n  onSubmit,\r\n  loading,\r\n}) => (\r\n  <Container>\r\n    <Helmet>\r\n      <title>Email Sign Up | Number</title>\r\n    </Helmet>\r\n    <Header backTo={routes.phoneLogin} title={'Email Sign Up'} />\r\n    <ExtendedForm submitFn={onSubmit}>\r\n      <ExtendedInput\r\n        value={firstName}\r\n        placeholder={'Enter firstName'}\r\n        onChange={onChange}\r\n        name={'firstName'}\r\n      />\r\n      <ExtendedInput\r\n        value={lastName}\r\n        placeholder={'Enter lastName'}\r\n        onChange={onChange}\r\n        name={'lastName'}\r\n      />\r\n      <ExtendedInput\r\n        value={email}\r\n        placeholder={'Enter email'}\r\n        onChange={onChange}\r\n        name={'email'}\r\n      />\r\n      <ExtendedInput\r\n        value={password}\r\n        placeholder={'Enter password'}\r\n        onChange={onChange}\r\n        name={'password'}\r\n        type={'password'}\r\n      />\r\n      <ExtendedInput\r\n        value={profilePhoto}\r\n        placeholder={'Enter profilePhoto'}\r\n        onChange={onChange}\r\n        name={'profilePhoto'}\r\n      />\r\n      <ExtendedInput\r\n        value={age}\r\n        placeholder={'Enter age'}\r\n        onChange={onChange}\r\n        name={'age'}\r\n      />\r\n      <ExtendedInput\r\n        value={phoneNumber}\r\n        placeholder={'Enter phoneNumber'}\r\n        onChange={onChange}\r\n        name={'phoneNumber'}\r\n      />\r\n      <Button\r\n        disabled={loading}\r\n        value={loading ? 'Verifying' : 'Submit'}\r\n        onClick={null}\r\n      />\r\n    </ExtendedForm>\r\n  </Container>\r\n);\r\n\r\nexport default EmailSignUpPresenter;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const EMAIL_SIGNUP = gql`\r\n  mutation emailSignUp(\r\n    $firstName: String!\r\n    $lastName: String!\r\n    $email: String!\r\n    $password: String!\r\n    $profilePhoto: String!\r\n    $age: Int!\r\n    $phoneNumber: String!\r\n  ) {\r\n    EmailSignUp(\r\n      firstName: $firstName\r\n      lastName: $lastName\r\n      email: $email\r\n      password: $password\r\n      profilePhoto: $profilePhoto\r\n      age: $age\r\n      phoneNumber: $phoneNumber\r\n    ) {\r\n      ok\r\n      error\r\n      token\r\n    }\r\n  }\r\n`;\r\n","import EmailSignUp from './EmailSignUpContainer';\r\nexport default EmailSignUp;\r\n","import React, { useState } from 'react';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport EmailSignUpPresenter from './EmailSignUpPresenter';\r\nimport { useMutation } from 'react-apollo';\r\nimport { EMAIL_SIGNUP } from './EmailSignUpQueries';\r\nimport { toast } from 'react-toastify';\r\nimport { LOG_USER_IN } from '../../sharedQueries';\r\nimport routes from '../../config/routes';\r\n\r\ntype PhoneState = {\r\n  phone: string; // which is coming from PhoneLoginContainer\r\n};\r\n\r\nexport interface StaticContext {\r\n  statusCode?: number;\r\n}\r\n\r\ninterface IProps extends RouteComponentProps<{}, StaticContext, PhoneState> {\r\n  location: any;\r\n}\r\n\r\nconst EmailSignUpContainer = (props: IProps) => {\r\n  let phone;\r\n  if (!props.location.state) {\r\n    props.history.push('/');\r\n  } else {\r\n    phone = props.location.state.phone;\r\n  }\r\n\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [profilePhoto, setProfilePhoto] = useState(\r\n    'http://www.gravatar.com/avatar/3b3be63a4c2a439b013787725dfce802?d=identicon'\r\n  );\r\n  const [age, setAge] = useState('');\r\n  const [phoneNumber, setPhoneNumber] = useState(phone);\r\n\r\n  const [logUserIn] = useMutation(LOG_USER_IN);\r\n  const [emailSignUp, { loading }] = useMutation(EMAIL_SIGNUP, {\r\n    variables: {\r\n      firstName,\r\n      lastName,\r\n      email,\r\n      password,\r\n      profilePhoto,\r\n      age: Number(age),\r\n      phoneNumber,\r\n    },\r\n    onCompleted: (data) => {\r\n      const { EmailSignUp } = data;\r\n      if (EmailSignUp.ok) {\r\n        logUserIn({\r\n          variables: {\r\n            token: EmailSignUp.token,\r\n          },\r\n        });\r\n        toast.success(\"You're verified, logging in now\");\r\n      } else if (EmailSignUp.error === 'The user is already signed up') {\r\n        toast.info(\"You're already signed up, please sign in\");\r\n        setTimeout(() => {\r\n          props.history.push({\r\n            pathname: routes.emailSignIn,\r\n          });\r\n        }, 2000);\r\n      } else {\r\n        toast.error(EmailSignUp.error);\r\n      }\r\n    },\r\n  });\r\n\r\n  const onInputChange: React.ChangeEventHandler<HTMLInputElement> = (event) => {\r\n    const {\r\n      target: { name, value },\r\n    } = event;\r\n    switch (name) {\r\n      case 'firstName':\r\n        setFirstName(value);\r\n        break;\r\n      case 'lastName':\r\n        setLastName(value);\r\n        break;\r\n      case 'email':\r\n        setEmail(value);\r\n        break;\r\n      case 'password':\r\n        setPassword(value);\r\n        break;\r\n      case 'profilePhoto':\r\n        setProfilePhoto(value);\r\n        break;\r\n      case 'age':\r\n        setAge(value);\r\n        break;\r\n      case 'phoneNumber':\r\n        setPhoneNumber(value);\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <EmailSignUpPresenter\r\n      loading={loading}\r\n      onSubmit={emailSignUp}\r\n      onChange={onInputChange}\r\n      firstName={firstName}\r\n      lastName={lastName}\r\n      email={email}\r\n      password={password}\r\n      profilePhoto={profilePhoto}\r\n      age={age}\r\n      phoneNumber={phoneNumber}\r\n    />\r\n  );\r\n};\r\n\r\nexport default EmailSignUpContainer;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '../../Components/Button';\r\nimport Header from '../../Components/Header';\r\nimport Input from '../../Components/Input';\r\nimport styled from '../../Components/Style/typed-components';\r\nimport Form from '../../Components/Form';\r\nimport routes from '../../config/routes';\r\n\r\nconst Container = styled.div``;\r\n\r\nconst ExtendedForm = styled(Form)`\r\n  padding: 0px 40px;\r\n`;\r\n\r\nconst ExtendedInput = styled(Input)`\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst LoginWay = styled.div`\r\n  padding: 10px 40px;\r\n`;\r\n\r\nconst LoginLink = styled.span`\r\n  color: ${(props) => props.theme.blueColor};\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n`;\r\n\r\ninterface IProps {\r\n  email: string;\r\n  password: string;\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n  onSubmit: any;\r\n  loading: boolean;\r\n}\r\n\r\nconst EmailSignInPresenter: React.FC<IProps> = ({\r\n  email,\r\n  password,\r\n  onChange,\r\n  onSubmit,\r\n  loading,\r\n}) => (\r\n  <Container>\r\n    <Helmet>\r\n      <title>Email Sign In | Number</title>\r\n    </Helmet>\r\n    <Header backTo={routes.phoneLogin} title={'Email Sign In'} />\r\n    <ExtendedForm submitFn={onSubmit}>\r\n      <ExtendedInput\r\n        value={email}\r\n        placeholder={'Enter email'}\r\n        onChange={onChange}\r\n        name={'email'}\r\n      />\r\n      <ExtendedInput\r\n        value={password}\r\n        placeholder={'Enter password'}\r\n        onChange={onChange}\r\n        name={'password'}\r\n        type={'password'}\r\n      />\r\n      <Button\r\n        disabled={loading}\r\n        value={loading ? 'Verifying' : 'Submit'}\r\n        onClick={null}\r\n      />\r\n    </ExtendedForm>\r\n    <LoginWay>\r\n      <Link to={routes.forgetPassword}>\r\n        <LoginLink>Forget Password</LoginLink>\r\n      </Link>\r\n    </LoginWay>\r\n  </Container>\r\n);\r\n\r\nexport default EmailSignInPresenter;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const EMAIL_SINGIN = gql`\r\n  mutation emailSignIn($email: String!, $password: String!) {\r\n    EmailSignIn(email: $email, password: $password) {\r\n      ok\r\n      error\r\n      token\r\n    }\r\n  }\r\n`;\r\n","import EmailSignIn from './EmailSignInContainer';\r\nexport default EmailSignIn;\r\n","import React, { useState } from 'react';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport EmailSignInPresenter from './EmailSignInPresenter';\r\nimport { useMutation } from 'react-apollo';\r\nimport { EMAIL_SINGIN } from './EmailSignInQueries';\r\nimport { toast } from 'react-toastify';\r\nimport { LOG_USER_IN } from '../../sharedQueries';\r\nimport routes from '../../config/routes';\r\n\r\ninterface IProps extends RouteComponentProps<any> {}\r\n\r\nconst EmailSignInContainer = (props: IProps) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const [logUserIn] = useMutation(LOG_USER_IN);\r\n  const [verifyPhone, { loading }] = useMutation(EMAIL_SINGIN, {\r\n    variables: {\r\n      email,\r\n      password,\r\n    },\r\n    onCompleted: (data) => {\r\n      const { EmailSignIn } = data;\r\n      if (EmailSignIn.ok) {\r\n        logUserIn({\r\n          variables: {\r\n            token: EmailSignIn.token,\r\n          },\r\n        });\r\n        toast.success(\"You're verified, logging in now\");\r\n      } else {\r\n        toast.error(EmailSignIn.error);\r\n        if (\r\n          EmailSignIn.error === 'Not Email validated. Please verify it first'\r\n        ) {\r\n          logUserIn({\r\n            variables: {\r\n              token: EmailSignIn.token,\r\n            },\r\n          });\r\n          setTimeout(() => {\r\n            props.history.push({\r\n              pathname: routes.verifyEmail,\r\n            });\r\n          }, 2000);\r\n        }\r\n      }\r\n    },\r\n  });\r\n\r\n  const onInputChange: React.ChangeEventHandler<HTMLInputElement> = (event) => {\r\n    const {\r\n      target: { name, value },\r\n    } = event;\r\n    switch (name) {\r\n      case 'email':\r\n        setEmail(value);\r\n        break;\r\n      case 'password':\r\n        setPassword(value);\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <EmailSignInPresenter\r\n      loading={loading}\r\n      onSubmit={verifyPhone}\r\n      onChange={onInputChange}\r\n      email={email}\r\n      password={password}\r\n    />\r\n  );\r\n};\r\n\r\nexport default EmailSignInContainer;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '../../Components/Button';\r\nimport Header from '../../Components/Header';\r\nimport Input from '../../Components/Input';\r\nimport styled from '../../Components/Style/typed-components';\r\nimport Form from '../../Components/Form';\r\nimport routes from '../../config/routes';\r\n\r\nconst Container = styled.div``;\r\n\r\nconst ExtendedForm = styled(Form)`\r\n  padding: 0px 40px;\r\n`;\r\n\r\nconst ExtendedInput = styled(Input)`\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst LoginWay = styled.div`\r\n  padding: 10px 40px;\r\n`;\r\n\r\nconst LoginLink = styled.span`\r\n  color: ${(props) => props.theme.blueColor};\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n`;\r\n\r\ninterface IProps {\r\n  email: string;\r\n  password: string;\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n  onSubmit: any;\r\n  loading: boolean;\r\n}\r\n\r\nconst ForgetPasswordPresenter: React.FC<IProps> = ({\r\n  email,\r\n  password,\r\n  onChange,\r\n  onSubmit,\r\n  loading,\r\n}) => (\r\n  <Container>\r\n    <Helmet>\r\n      <title>Forget Password | Number</title>\r\n    </Helmet>\r\n    <Header backTo={routes.phoneLogin} title={'Email Sign In'} />\r\n    <ExtendedForm submitFn={onSubmit}>\r\n      <ExtendedInput\r\n        value={email}\r\n        placeholder={'Enter email'}\r\n        onChange={onChange}\r\n        name={'email'}\r\n      />\r\n      <ExtendedInput\r\n        value={password}\r\n        placeholder={'Enter new password'}\r\n        onChange={onChange}\r\n        name={'password'}\r\n        type={'password'}\r\n      />\r\n      <Button\r\n        disabled={loading}\r\n        value={loading ? 'Verifying' : 'Submit'}\r\n        onClick={null}\r\n      />\r\n    </ExtendedForm>\r\n    <LoginWay>\r\n      <Link to={routes.emailSignUp}>\r\n        <LoginLink>Sign Up</LoginLink>\r\n      </Link>\r\n    </LoginWay>\r\n  </Container>\r\n);\r\n\r\nexport default ForgetPasswordPresenter;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const UPDATE_PASSWORD = gql`\r\n  mutation updatePassword($email: String!, $password: String!) {\r\n    UpdatePassword(email: $email, password: $password) {\r\n      ok\r\n      error\r\n    }\r\n  }\r\n`;\r\n","import ForgetPassword from './ForgetPasswordContainer';\r\nexport default ForgetPassword;\r\n","import React, { useState } from 'react';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport EmailSignInPresenter from './ForgetPasswordPresenter';\r\nimport { useMutation } from 'react-apollo';\r\nimport { UPDATE_PASSWORD } from './ForgetPasswordQueries';\r\nimport { toast } from 'react-toastify';\r\nimport routes from '../../config/routes';\r\n\r\ninterface IProps extends RouteComponentProps<any> {}\r\n\r\nconst ForgetPasswordContainer = (props: IProps) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const [updatePassword, { loading }] = useMutation(UPDATE_PASSWORD, {\r\n    variables: {\r\n      email,\r\n      password,\r\n    },\r\n    onCompleted: (data) => {\r\n      const { UpdatePassword } = data;\r\n      if (UpdatePassword.ok) {\r\n        toast.success('Updated password successfully!. Please log in again!');\r\n        setTimeout(() => {\r\n          props.history.push({\r\n            pathname: routes.emailSignIn,\r\n          });\r\n        }, 2000);\r\n      } else {\r\n        toast.error(UpdatePassword.error);\r\n        if (UpdatePassword.error === 'Please verify your phone number first!') {\r\n          setTimeout(() => {\r\n            props.history.push({\r\n              pathname: routes.phoneLogin,\r\n            });\r\n          }, 2000);\r\n        }\r\n      }\r\n    },\r\n  });\r\n\r\n  const onInputChange: React.ChangeEventHandler<HTMLInputElement> = (event) => {\r\n    const {\r\n      target: { name, value },\r\n    } = event;\r\n    switch (name) {\r\n      case 'email':\r\n        setEmail(value);\r\n        break;\r\n      case 'password':\r\n        setPassword(value);\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <EmailSignInPresenter\r\n      loading={loading}\r\n      onSubmit={updatePassword}\r\n      onChange={onInputChange}\r\n      password={password}\r\n      email={email}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ForgetPasswordContainer;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport Button from '../../Components/Button';\r\nimport Header from '../../Components/Header';\r\nimport Input from '../../Components/Input';\r\nimport styled from '../../Components/Style/typed-components';\r\nimport Form from '../../Components/Form';\r\nimport routes from '../../config/routes';\r\n\r\nconst Container = styled.div``;\r\n\r\nconst ExtendedForm = styled(Form)`\r\n  padding: 0px 40px;\r\n`;\r\n\r\nconst ExtendedInput = styled(Input)`\r\n  margin-bottom: 20px;\r\n`;\r\n\r\ninterface IProps {\r\n  verificationKey: string;\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n  onSubmit: any;\r\n  loading: boolean;\r\n}\r\n\r\nconst VerifyEmailPresenter: React.FC<IProps> = ({\r\n  verificationKey,\r\n  onChange,\r\n  onSubmit,\r\n  loading,\r\n}) => (\r\n  <Container>\r\n    <Helmet>\r\n      <title>Verify Email | Number</title>\r\n    </Helmet>\r\n    <Header backTo={routes.home} title={'Verify Email Number'} />\r\n    <ExtendedForm submitFn={onSubmit}>\r\n      <ExtendedInput\r\n        value={verificationKey}\r\n        placeholder={'Enter Verification Code'}\r\n        onChange={onChange}\r\n        name={'verificationKey'}\r\n      />\r\n      <Button\r\n        disabled={loading}\r\n        value={loading ? 'Verifying' : 'Submit'}\r\n        onClick={null}\r\n      />\r\n    </ExtendedForm>\r\n  </Container>\r\n);\r\n\r\nexport default VerifyEmailPresenter;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const VERIFY_EMAIL = gql`\r\n  mutation verifyEmail($verificationKey: String!) {\r\n    CompleteEmailVerification(key: $verificationKey) {\r\n      ok\r\n      error\r\n    }\r\n  }\r\n`;\r\n","import VerifyEmail from './VerifyEmailContainer';\r\nexport default VerifyEmail;\r\n","import React, { useState } from 'react';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport VerifyEmailPresenter from './VerifyEmailPresenter';\r\nimport { useMutation } from 'react-apollo';\r\nimport { VERIFY_EMAIL } from './VerifyEmailQueries';\r\nimport { toast } from 'react-toastify';\r\nimport routes from '../../config/routes';\r\n\r\ninterface IProps extends RouteComponentProps<any> {}\r\n\r\nconst VerifyEmailContainer = (props: IProps) => {\r\n  const [verificationKey, setVerificationKey] = useState('');\r\n\r\n  const [verifyEmail, { loading }] = useMutation(VERIFY_EMAIL, {\r\n    variables: {\r\n      verificationKey,\r\n    },\r\n    onCompleted: (data) => {\r\n      const { CompleteEmailVerification } = data;\r\n      if (CompleteEmailVerification.ok) {\r\n        if (CompleteEmailVerification.token) {\r\n          toast.success(\"You're verified, Thank you!\");\r\n        } else {\r\n          setTimeout(() => {\r\n            props.history.push({\r\n              pathname: routes.home,\r\n            });\r\n          }, 2000);\r\n        }\r\n      } else {\r\n        toast.error(CompleteEmailVerification.error);\r\n      }\r\n    },\r\n  });\r\n\r\n  const onInputChange: React.ChangeEventHandler<HTMLInputElement> = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event;\r\n    setVerificationKey(value);\r\n  };\r\n\r\n  return (\r\n    <VerifyEmailPresenter\r\n      loading={loading}\r\n      onSubmit={verifyEmail}\r\n      onChange={onInputChange}\r\n      verificationKey={verificationKey}\r\n    />\r\n  );\r\n};\r\n\r\nexport default VerifyEmailContainer;\r\n","import React from 'react';\r\nimport styled from '../Style/typed-components';\r\n\r\nconst Container = styled<any>('div')`\r\n  background-color: ${(props) =>\r\n    props.mine ? props.theme.blueColor : props.theme.greyColor};\r\n  color: white;\r\n  padding: 10px 20px;\r\n  border-radius: 20px;\r\n  align-self: ${(props) => (props.mine ? 'flex-end' : 'flex-start')};\r\n  border-bottom-right-radius: ${(props) => (props.mine ? '0px' : '20px')};\r\n  border-bottom-left-radius: ${(props) => (!props.mine ? '0px' : '20px')};\r\n  margin-bottom: 10px;\r\n`;\r\n\r\ninterface IProps {\r\n  text: string;\r\n  mine: boolean;\r\n}\r\n\r\nconst Message: React.FC<IProps> = ({ text, mine }) => (\r\n  <Container mine={mine}>{text}</Container>\r\n);\r\n\r\nexport default Message;\r\n","import Message from './Message';\r\nexport default Message;\r\n","import React from 'react';\r\nimport Header from '../../Components/Header';\r\nimport Message from '../../Components/Message';\r\nimport styled from '../../Components/Style/typed-components';\r\nimport { getChat, userProfile } from '../../types/api';\r\nimport Form from '../../Components/Form';\r\nimport Input from '../../Components/Input';\r\n\r\nconst Container = styled.div``;\r\n\r\nconst Chat = styled.div`\r\n  height: 80vh;\r\n  overflow: scroll;\r\n  padding: 0 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n`;\r\n\r\nconst InputCont = styled.div`\r\n  padding: 0 20px;\r\n`;\r\n\r\ninterface IProps {\r\n  data?: getChat;\r\n  userData?: userProfile;\r\n  loading: boolean;\r\n  messageText: string;\r\n  onSubmit: () => void;\r\n  onInputChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n}\r\n\r\nconst ChatPresenter: React.SFC<IProps> = ({\r\n  loading,\r\n  data: { GetChat: { chat = null } = {} } = {},\r\n  userData: { GetMyProfile: { user = null } = {} } = {},\r\n  messageText,\r\n  onInputChange,\r\n  onSubmit,\r\n}) => (\r\n  <Container>\r\n    <Header title={'Chat'} />\r\n    {!loading && chat && user && (\r\n      <React.Fragment>\r\n        <Chat>\r\n          {chat.messages &&\r\n            chat.messages.map((message) => {\r\n              if (message) {\r\n                return (\r\n                  <Message\r\n                    key={message.id}\r\n                    text={message.text}\r\n                    mine={user.id === message.userId}\r\n                  />\r\n                );\r\n              }\r\n              return null;\r\n            })}\r\n        </Chat>\r\n        <InputCont>\r\n          <Form submitFn={onSubmit}>\r\n            <Input\r\n              value={messageText}\r\n              placeholder={'Type your message'}\r\n              onChange={onInputChange}\r\n              name={'message'}\r\n            />\r\n          </Form>\r\n        </InputCont>\r\n      </React.Fragment>\r\n    )}\r\n  </Container>\r\n);\r\n\r\nexport default ChatPresenter;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const GET_CHAT = gql`\r\n  query getChat($chatId: Int!) {\r\n    GetChat(chatId: $chatId) {\r\n      ok\r\n      error\r\n      chat {\r\n        passengerId\r\n        driverId\r\n        messages {\r\n          id\r\n          text\r\n          userId\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SEND_MESSAGE = gql`\r\n  mutation sendMessage($text: String!, $chatId: Int!) {\r\n    SendChatMessage(text: $text, chatId: $chatId) {\r\n      ok\r\n      error\r\n      message {\r\n        id\r\n        text\r\n        userId\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SUBSCRIBE_TO_MESSAGES = gql`\r\n  subscription messageSubscription {\r\n    MessageSubscription {\r\n      id\r\n      text\r\n      userId\r\n    }\r\n  }\r\n`;\r\n","import Chat from './ChatContainer';\r\nexport default Chat;\r\n","import React, { useState } from 'react';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { USER_PROFILE } from '../../sharedNotLocalQueries';\r\nimport ChatPresenter from './ChatPresenter';\r\nimport { GET_CHAT, SEND_MESSAGE, SUBSCRIBE_TO_MESSAGES } from './ChatQueries';\r\nimport routes from '../../config/routes';\r\nimport { useQuery, useMutation } from 'react-apollo';\r\nimport { SubscribeToMoreOptions } from 'apollo-client';\r\n\r\ninterface IProps extends RouteComponentProps<any> {}\r\n\r\nconst ChatContainer = (props: IProps) => {\r\n  const {\r\n    match: {\r\n      params: { chatId },\r\n    },\r\n  } = props;\r\n  if (!chatId) {\r\n    props.history.push(routes.home);\r\n  }\r\n\r\n  const [message, setMessage] = useState('');\r\n\r\n  const { data: userData } = useQuery(USER_PROFILE);\r\n  const { data, loading, subscribeToMore } = useQuery(GET_CHAT, {\r\n    variables: { chatId: Number(chatId) },\r\n  });\r\n\r\n  const [sendMessageFn] = useMutation(SEND_MESSAGE);\r\n\r\n  const onInputChange: React.ChangeEventHandler<HTMLInputElement> = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event;\r\n    setMessage(value);\r\n  };\r\n\r\n  const onSubmit = () => {\r\n    const {\r\n      match: {\r\n        params: { chatId },\r\n      },\r\n    } = props;\r\n    if (message !== '') {\r\n      setMessage('');\r\n      sendMessageFn({\r\n        variables: {\r\n          chatId: Number(chatId),\r\n          text: message,\r\n        },\r\n      });\r\n    }\r\n    return;\r\n  };\r\n\r\n  //subscription\r\n  const subscribeToMoreOptions: SubscribeToMoreOptions = {\r\n    document: SUBSCRIBE_TO_MESSAGES,\r\n    updateQuery: (prev, { subscriptionData }) => {\r\n      if (!subscriptionData.data) {\r\n        return prev;\r\n      }\r\n      const {\r\n        data: { MessageSubscription },\r\n      } = subscriptionData;\r\n      const {\r\n        GetChat: {\r\n          chat: { messages },\r\n        },\r\n      } = prev;\r\n\r\n      if (messages.length > 0) {\r\n        const newMessageId = MessageSubscription.id;\r\n        const latestMessageId = messages[messages.length - 1].id;\r\n\r\n        if (newMessageId === latestMessageId) {\r\n          return;\r\n        }\r\n      }\r\n      const newObject = Object.assign({}, prev, {\r\n        GetChat: {\r\n          ...prev.GetChat,\r\n          chat: {\r\n            ...prev.GetChat.chat,\r\n            messages: [...prev.GetChat.chat.messages, MessageSubscription],\r\n          },\r\n        },\r\n      });\r\n      return newObject;\r\n    },\r\n  };\r\n\r\n  subscribeToMore(subscribeToMoreOptions);\r\n\r\n  return (\r\n    <ChatPresenter\r\n      data={data}\r\n      loading={loading}\r\n      userData={userData}\r\n      messageText={message}\r\n      onInputChange={onInputChange}\r\n      onSubmit={onSubmit}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ChatContainer;\r\n","import React from 'react';\r\nimport styled from '../Style/typed-components';\r\n\r\nconst Ride = styled.div`\r\n  margin: 15px 0;\r\n  display: flex;\r\n  align-items: center;\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px solid ${(props) => props.theme.greyColor};\r\n`;\r\n\r\nconst Order = styled.span`\r\n  color: ${(props) => props.theme.blueColor};\r\n`;\r\n\r\nconst Container = styled.div`\r\n  margin-left: 10px;\r\n`;\r\n\r\nconst Name = styled.span`\r\n  display: block;\r\n  margin-bottom: 0.5em;\r\n`;\r\n\r\nconst Address = styled.span`\r\n  color: ${(props) => props.theme.greyColor};\r\n  font-size: 14px;\r\n`;\r\n\r\nconst Distance = styled.span`\r\n  color: ${(props) => props.theme.blueColor};\r\n  font-size: 12px;\r\n`;\r\n\r\nconst Request = styled.div`\r\n  flex: 1;\r\n  margin-left: auto;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  cursor: pointer;\r\n`;\r\n\r\ninterface IProps {\r\n  order: number;\r\n  distance: string;\r\n  dropOffAddress: string;\r\n  driverName: string | null;\r\n  onRequestDrive: any;\r\n}\r\n\r\nconst PlacePresenter: React.FC<IProps> = ({\r\n  order,\r\n  distance,\r\n  dropOffAddress,\r\n  driverName,\r\n  onRequestDrive,\r\n}) => (\r\n  <Ride>\r\n    <Order>{order}</Order>\r\n    <Container>\r\n      <Name>{driverName}</Name>\r\n      <Address>{dropOffAddress}</Address>\r\n      <Distance>{distance}</Distance>\r\n    </Container>\r\n    <Request onClick={() => onRequestDrive(dropOffAddress)}>\r\n      <svg\r\n        xmlns='http://www.w3.org/2000/svg'\r\n        width='24'\r\n        height='24'\r\n        viewBox='0 0 24 24'>\r\n        <path d='M11 16v-3h1.247c.882 0 1.235.297 1.828.909.452.465 1.925 2.091 1.925 2.091h-5zm-1-3h-2.243c-.688 0-1.051.222-1.377.581-.316.348-.895.948-1.506 1.671 1.719.644 4.055.748 5.126.748v-3zm14 5.161c0-2.823-2.03-3.41-2.794-3.631-1.142-.331-1.654-.475-3.031-.794-.549-.545-2.051-2.035-2.389-2.375l-.089-.091c-.666-.68-1.421-1.27-3.172-1.27h-7.64c-.547 0-.791.456-.254.944-.534.462-1.945 1.705-2.341 2.107-1.383 1.403-2.29 2.481-2.29 4.604 0 2.461 1.361 4.258 3.179 4.332.41 1.169 1.512 2.013 2.821 2.013 1.304 0 2.403-.838 2.816-2h6.367c.413 1.162 1.512 2 2.816 2 1.308 0 2.409-.843 2.82-2.01 1.934-.056 3.181-1.505 3.181-3.829zm-18 4.039c-.662 0-1.2-.538-1.2-1.2s.538-1.2 1.2-1.2 1.2.538 1.2 1.2-.538 1.2-1.2 1.2zm12 0c-.662 0-1.2-.538-1.2-1.2s.538-1.2 1.2-1.2 1.2.538 1.2 1.2-.538 1.2-1.2 1.2zm2.832-2.15c-.399-1.188-1.509-2.05-2.832-2.05-1.327 0-2.44.868-2.836 2.062h-6.328c-.396-1.194-1.509-2.062-2.836-2.062-1.319 0-2.426.857-2.829 2.04-.586-.114-1.171-1.037-1.171-2.385 0-1.335.47-1.938 1.714-3.199.725-.735 1.309-1.209 2.263-2.025.34-.291.774-.432 1.222-.43h5.173c1.22 0 1.577.385 2.116.892.419.393 2.682 2.665 2.682 2.665s2.303.554 3.48.895c.84.243 1.35.479 1.35 1.71 0 1.195-.396 1.825-1.168 1.887zm-13.6-12.985c.71-.751 1.688-1.215 2.768-1.215s2.058.464 2.768 1.215l1.164-1.236c-1.006-1.067-2.397-1.727-3.932-1.727-1.535 0-2.926.66-3.932 1.727l1.164 1.236zm-2.038-2.163c1.23-1.304 2.929-2.11 4.806-2.11s3.576.806 4.806 2.11l1.194-1.266c-1.535-1.629-3.656-2.636-6-2.636s-4.465 1.007-6 2.636l1.194 1.266zm6.806 4.098h-4c.035-.906.749-1.737 2-1.737 1.243 0 1.965.831 2 1.737z' />\r\n      </svg>\r\n    </Request>\r\n  </Ride>\r\n);\r\n\r\nexport default PlacePresenter;\r\n","import Ride from './Ride';\r\nexport default Ride;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport Header from '../../Components/Header';\r\nimport styled from '../../Components/Style/typed-components';\r\nimport { historyRides } from '../../types/api';\r\nimport routes from '../../config/routes';\r\nimport Ride from '../../Components/Ride';\r\n\r\nconst Container = styled.div`\r\n  padding: 0 40px;\r\n`;\r\n\r\ninterface IProps {\r\n  data?: historyRides;\r\n  onRequestDrive: any;\r\n}\r\n\r\nconst PlacesPresenter: React.FC<IProps> = ({\r\n  data: { HistoryRides: { rides = null } = {} } = {},\r\n  onRequestDrive,\r\n}) => (\r\n  <React.Fragment>\r\n    <Helmet>\r\n      <title>History | Uber</title>\r\n    </Helmet>\r\n    <Header title={'History'} backTo={routes.home} />\r\n    <Container>\r\n      {rides && rides.length === 0 && (\r\n        <>\r\n          'You have no history'\r\n          <br />\r\n          <br />\r\n        </>\r\n      )}\r\n      {rides &&\r\n        rides.map((ride, index) => {\r\n          if (ride && ride.driver) {\r\n            return (\r\n              <Ride\r\n                key={ride.id}\r\n                order={index + 1}\r\n                distance={ride.distance}\r\n                dropOffAddress={ride.dropOffAddress}\r\n                driverName={ride.driver.fullName}\r\n                onRequestDrive={onRequestDrive}\r\n              />\r\n            );\r\n          }\r\n          return null;\r\n        })}\r\n    </Container>\r\n  </React.Fragment>\r\n);\r\n\r\nexport default PlacesPresenter;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const GET_HISTORY_RIDES = gql`\r\n  query historyRides {\r\n    HistoryRides {\r\n      ok\r\n      error\r\n      rides {\r\n        id\r\n        status\r\n        pickUpAddress\r\n        dropOffAddress\r\n        price\r\n        distance\r\n        duration\r\n        driver {\r\n          id\r\n          fullName\r\n          profilePhoto\r\n        }\r\n        passenger {\r\n          id\r\n          fullName\r\n          profilePhoto\r\n        }\r\n        chatId\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import History from './HistoryContainer';\r\nexport default History;\r\n","import React from 'react';\r\nimport { useQuery, QueryResult } from 'react-apollo';\r\nimport { historyRides } from '../../types/api';\r\nimport HistoryPresenter from './HistoryPresenter';\r\nimport { GET_HISTORY_RIDES } from './HistoryQueries';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport routes from '../../config/routes';\r\n\r\ninterface IProps extends RouteComponentProps<any> {}\r\n\r\nconst HistoryContainer = (props: IProps) => {\r\n  const { data }: QueryResult<historyRides> = useQuery(GET_HISTORY_RIDES, {\r\n    onCompleted: (data) => {\r\n      console.log('complete:', data);\r\n    },\r\n  });\r\n\r\n  const onRequestDrive = (requestAddress: string) => {\r\n    props.history.push({\r\n      pathname: routes.home,\r\n      state: {\r\n        requestAddress,\r\n      },\r\n    });\r\n  };\r\n  return <HistoryPresenter data={data} onRequestDrive={onRequestDrive} />;\r\n};\r\n\r\nexport default HistoryContainer;\r\n","import PropTypes from 'prop-types';\r\nimport React, { FC } from 'react';\r\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\r\nimport AddPlace from '../../Routes/AddPlace';\r\nimport EditAccount from '../../Routes/EditAccount';\r\nimport FindAddress from '../../Routes/FindAddress';\r\nimport Home from '../../Routes/Home';\r\nimport Login from '../../Routes/Login';\r\nimport PhoneLogin from '../../Routes/PhoneLogin';\r\nimport Places from '../../Routes/Places';\r\nimport Ride from '../../Routes/Ride';\r\nimport Settings from '../../Routes/Settings';\r\nimport SocialLogin from '../../Routes/SocialLogin';\r\nimport VerifyPhone from '../../Routes/VerifyPhone';\r\nimport routes from '../../config/routes';\r\nimport EmailSignUp from '../../Routes/EmailSignUp';\r\nimport EmailSignIn from '../../Routes/EmailSignIn';\r\nimport ForgetPassword from '../../Routes/ForgetPassword';\r\nimport VerifyEmail from '../../Routes/VerifyEmail';\r\nimport Chat from '../../Routes/Chat';\r\nimport History from '../../Routes/History';\r\n\r\ninterface IProps {\r\n  isLoggedIn: boolean;\r\n}\r\n\r\nconst AppPresenter: FC<IProps> = ({ isLoggedIn }) => (\r\n  <BrowserRouter>\r\n    {isLoggedIn ? <LoggedInRoutes /> : <LoggedOutRoutes />}\r\n  </BrowserRouter>\r\n);\r\n\r\nconst LoggedOutRoutes: React.FC = () => (\r\n  <Switch>\r\n    <Route path={routes.home} exact={true} component={Login} />\r\n    <Route path={routes.phoneLogin} component={PhoneLogin} />\r\n    <Route path={routes.verifyPhone} component={VerifyPhone} />\r\n    <Route path={routes.emailSignUp} component={EmailSignUp} />\r\n    <Route path={routes.emailSignIn} component={EmailSignIn} />\r\n    <Route path={routes.socialLogin} component={SocialLogin} />\r\n    <Route path={routes.forgetPassword} component={ForgetPassword} />\r\n    <Redirect from={'*'} to={'/'} />\r\n  </Switch>\r\n);\r\n\r\nconst LoggedInRoutes: React.FC = () => (\r\n  <Switch>\r\n    <Route path={routes.verifyEmail} component={VerifyEmail} />\r\n    <Route path={routes.home} exact={true} component={Home} />\r\n    <Route path={routes.ride + '/:rideId'} exact={true} component={Ride} />\r\n    <Route path={routes.chat + '/:chatId'} exact={true} component={Chat} />\r\n    <Route path={routes.editAccount} exact={true} component={EditAccount} />\r\n    <Route path={routes.settings} exact={true} component={Settings} />\r\n    <Route path={routes.places} exact={true} component={Places} />\r\n    <Route path={routes.history} exact={true} component={History} />\r\n    <Route path={routes.addPlace} exact={true} component={AddPlace} />\r\n    <Route path={routes.findAddress} exact={true} component={FindAddress} />\r\n    <Redirect from={'*'} to={'/'} />\r\n  </Switch>\r\n);\r\n\r\nAppPresenter.propTypes = {\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default AppPresenter;\r\n","const theme = {\r\n  blueColor: '#3498db',\r\n  greenColor: '#1abc9c',\r\n  greyColor: '#7f8c8d',\r\n  yellowColor: '#f1c40f',\r\n};\r\n\r\nexport default theme;\r\n","import reset from 'styled-reset';\r\nimport { createGlobalStyle } from './typed-components';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  @import url('https://fonts.googleapis.com/css?family=Maven+Pro');\r\n  ${reset}\r\n  * {\r\n    box-sizing: border-box;\r\n  }\r\n  body {\r\n    font-family: \"Maven Pro\",-apple-system,system-ui,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,sans-serif;\r\n  }\r\n  a {\r\n    color: inherit;\r\n    text-decoration: none;\r\n  }\r\n  -moz-user-input,\r\n  button{\r\n    &:focus,&:active {\r\n      outline: none\r\n    }\r\n  }\r\n`;\r\n\r\nexport default GlobalStyle;\r\n","import App from './AppContainer';\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport { graphql } from 'react-apollo';\r\nimport { IS_LOGGED_IN } from './AppQueries.local';\r\nimport AppPresenter from './AppPresenter';\r\nimport { ThemeProvider } from '../Style/typed-components';\r\nimport theme from '../Style/theme';\r\nimport GlobalStyle from '../Style/GlobalStyle';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\nconst AppContainer = ({ data }: { data?: any }) => {\r\n  return (\r\n    <React.Fragment>\r\n      <ThemeProvider theme={theme}>\r\n        <GlobalStyle />\r\n        <AppPresenter isLoggedIn={data.auth.isLoggedIn} />\r\n      </ThemeProvider>\r\n      <ToastContainer draggable={true} position={'bottom-center'} />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default graphql(IS_LOGGED_IN)(AppContainer);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { ApolloProvider } from 'react-apollo';\r\nimport client from './apollo';\r\nimport App from './Components/App';\r\n\r\nReactDOM.render(\r\n  <ApolloProvider client={client}>\r\n    <App />\r\n  </ApolloProvider>,\r\n  document.getElementById('root')\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/bg.f1662d11.png\";"],"sourceRoot":""}